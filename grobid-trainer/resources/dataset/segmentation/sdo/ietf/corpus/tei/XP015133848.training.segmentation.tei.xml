<?xml version="1.0" ?>
<tei xml:space="preserve">
	<teiHeader>
		<fileDesc xml:id="0"/>
	</teiHeader>
	<text xml:lang="en">
			<front>server date 20190705; downloaded by EPO on 20190707 <lb/>Network Working Group <lb/>S. Previdi <lb/>Internet-Draft <lb/>Individual <lb/>Intended status: Standards Track <lb/>C. Filsfils <lb/>Expires: January 6, 2020 <lb/>Cisco Systems, Inc. <lb/>P. Mattes <lb/>Microsoft <lb/>E. Rosen <lb/>Juniper Networks <lb/>D. Jain <lb/>S. Lin <lb/>Google <lb/>July 5, 2019 <lb/>Advertising Segment Routing Policies in BGP <lb/>draft-ietf-idr-segment-routing-te-policy-07 <lb/>Abstract <lb/>This document defines a new BGP SAFI with a new NLRI in order to <lb/>advertise a candidate path of a Segment Routing Policy (SR Policy). <lb/>An SR Policy is a set of candidate paths, each consisting of one or <lb/>more segment lists. The headend of an SR Policy may learn multiple <lb/>candidate paths for an SR Policy. Candidate paths may be learned via <lb/>a number of different mechanisms, e.g., CLI, NetConf, PCEP, or BGP. <lb/>This document specifies the way in which BGP may be used to <lb/>distribute candidate paths. New sub-TLVs for the Tunnel <lb/>Encapsulation Attribute are defined. <lb/>Status of This Memo <lb/>This Internet-Draft is submitted in full conformance with the <lb/>provisions of BCP 78 and BCP 79. <lb/>Internet-Drafts are working documents of the Internet Engineering <lb/>Task Force (IETF). Note that other groups may also distribute <lb/>working documents as Internet-Drafts. The list of current Internet-<lb/>Drafts is at https://datatracker.ietf.org/drafts/current/. <lb/>Internet-Drafts are draft documents valid for a maximum of six months <lb/>and may be updated, replaced, or obsoleted by other documents at any <lb/>time. It is inappropriate to use Internet-Drafts as reference <lb/>material or to cite them other than as &quot;work in progress.&quot; <lb/>This Internet-Draft will expire on January 6, 2020. <lb/>Previdi, et al. <lb/>Expires January 6, 2020 <lb/>[Page 1] <lb/>Internet-Draft <lb/>Segment Routing Policies in BGP <lb/>July 2019 <lb/>Copyright Notice <lb/>Copyright (c) 2019 IETF Trust and the persons identified as the <lb/>document authors. All rights reserved. <lb/>This document is subject to BCP 78 and the IETF Trust&apos;s Legal <lb/>Provisions Relating to IETF Documents <lb/>(https://trustee.ietf.org/license-info) in effect on the date of <lb/>publication of this document. Please review these documents <lb/>carefully, as they describe your rights and restrictions with respect <lb/>to this document. Code Components extracted from this document must <lb/>include Simplified BSD License text as described in Section 4.e of <lb/>the Trust Legal Provisions and are provided without warranty as <lb/>described in the Simplified BSD License. <lb/></front>

			<div type="toc">Table of Contents <lb/>1. Introduction . . . . . . . . . . . . . . . . . . . . . . . . <lb/>3 <lb/>1.1. Requirements Language . . . . . . . . . . . . . . . . . . <lb/>5 <lb/>2. SR Policy Encoding . . . . . . . . . . . . . . . . . . . . . <lb/>5 <lb/>2.1. SR Policy SAFI and NLRI . . . . . . . . . . . . . . . . . <lb/>5 <lb/>2.2. SR Policy and Tunnel Encapsulation Attribute . . . . . . <lb/>7 <lb/>2.3. Remote Endpoint and Color . . . . . . . . . . . . . . . . <lb/>8 <lb/>2.4. SR Policy Sub-TLVs . . . . . . . . . . . . . . . . . . . <lb/>9 <lb/>2.4.1. Preference Sub-TLV . . . . . . . . . . . . . . . . . <lb/>9 <lb/>2.4.2. Binding SID Sub-TLV . . . . . . . . . . . . . . . . . 10 <lb/>2.4.3. Segment List Sub-TLV . . . . . . . . . . . . . . . . 11 <lb/>2.4.4. Explicit NULL Label Policy Sub-TLV . . . . . . . . . 27 <lb/>2.4.5. Policy Priority Sub-TLV . . . . . . . . . . . . . . . 29 <lb/>2.4.6. Policy Name Sub-TLV . . . . . . . . . . . . . . . . . 29 <lb/>3. Extended Color Community . . . . . . . . . . . . . . . . . . 30 <lb/>4. SR Policy Operations . . . . . . . . . . . . . . . . . . . . 31 <lb/>4.1. Configuration and Advertisement of SR Policies . . . . . 31 <lb/>4.2. Reception of an SR Policy NLRI . . . . . . . . . . . . . 31 <lb/>4.2.1. Acceptance of an SR Policy NLRI . . . . . . . . . . . 31 <lb/>4.2.2. Usable SR Policy NLRI . . . . . . . . . . . . . . . . 32 <lb/>4.2.3. Passing a usable SR Policy NLRI to the SRPM . . . . . 32 <lb/>4.2.4. Propagation of an SR Policy . . . . . . . . . . . . . 33 <lb/>4.3. Flowspec and SR Policies . . . . . . . . . . . . . . . . 33 <lb/>5. Contributors . . . . . . . . . . . . . . . . . . . . . . . . 33 <lb/>6. Acknowledgments . . . . . . . . . . . . . . . . . . . . . . . 34 <lb/>7. Implementation Status . . . . . . . . . . . . . . . . . . . . 34 <lb/>8. IANA Considerations . . . . . . . . . . . . . . . . . . . . . 35 <lb/>8.1. Existing Registry: Subsequent Address Family Identifiers <lb/>(SAFI) Parameters . . . . . . . . . . . . . . . . . . . . 36 <lb/>8.2. Existing Registry: BGP Tunnel Encapsulation Attribute <lb/>Tunnel Types . . . . . . . . . . . . . . . . . . . . . . 36 <lb/>8.3. Existing Registry: BGP Tunnel Encapsulation Attribute <lb/></div>

			<note place="footnote">Previdi, et al. <lb/>Expires January 6, 2020 <lb/></note>

			<page>[Page 2] <lb/></page>

			<note place="headnote">Internet-Draft <lb/>Segment Routing Policies in BGP <lb/>July 2019 <lb/></note>

			<div type="toc">sub-TLVs . . . . . . . . . . . . . . . . . . . . . . . . 36 <lb/>8.4. New Registry: SR Policy List Sub-TLVs . . . . . . . . . . 36 <lb/>8.5. New Registry: SR Policy Binding SID Flags . . . . . . . . 37 <lb/>8.6. New Registry: SR Policy Segment Flags . . . . . . . . . . 37 <lb/>9. Security Considerations . . . . . . . . . . . . . . . . . . . 38 <lb/>10. References . . . . . . . . . . . . . . . . . . . . . . . . . 38 <lb/>10.1. Normative References . . . . . . . . . . . . . . . . . . 38 <lb/>10.2. Informational References . . . . . . . . . . . . . . . . 39 <lb/>Authors&apos; Addresses . . . . . . . . . . . . . . . . . . . . . . . 40 <lb/></div>

			<body>1. Introduction <lb/>Segment Routing (SR) allows a headend node to steer a packet flow <lb/>along any path. Intermediate per-flow states are eliminated thanks <lb/>to source routing [I-D.ietf-spring-segment-routing]. <lb/>The headend node is said to steer a flow into a Segment Routing <lb/>Policy (SR Policy). <lb/>The header of a packet steered in an SR Policy is augmented with the <lb/>ordered list of segments associated with that SR Policy. <lb/>[I-D.ietf-spring-segment-routing-policy] details the concepts of SR <lb/>Policy and steering into an SR Policy. These apply equally to the <lb/>MPLS and SRv6 instantiations of segment routing. <lb/>[I-D.filsfils-spring-sr-policy-considerations] describes some of the <lb/>implementation aspects of the SR Policy Headend Architecture and <lb/>introduces the notion of an SR Policy Module (SRPM) that performs the <lb/>functionality as highlighted in section 2 of <lb/>[I-D.ietf-spring-segment-routing-policy]: <lb/>o The SRPM may learn multiple candidate paths for an SR Policy via <lb/>various mechanisms (CLI, NetConf, PCEP or BGP). <lb/>o The SRPM selects the best candidate path for the SR Policy. <lb/>o The SRPM binds a BSID to the selected candidate path of the SR <lb/>Policy. <lb/>o The SRPM installs the selected candidate path and its BSID in the <lb/>forwarding plane. <lb/>This document specifies the way to use BGP to distribute one or more <lb/>of the candidate paths of an SR Policy to the headend of that policy. <lb/>The document identifies the functionality that resides in the BGP <lb/>process and for the functionality which is outside the scope of BGP <lb/></body>

			<note place="footnote">Previdi, et al. <lb/>Expires January 6, 2020 <lb/></note>

			<page>[Page 3] <lb/></page>

			<note place="headnote">Internet-Draft <lb/>Segment Routing Policies in BGP <lb/>July 2019 <lb/></note>

			<body>and lies within SRPM on the headend node, it refers to such, as <lb/>appropriate. <lb/>This document specifies a way of representing SR Policies and their <lb/>candidate paths in BGP UPDATE messages. BGP can then be used to <lb/>propagate the SR Policies and candidate paths. The usual BGP rules <lb/>for BGP propagation and &quot;bestpath selection&quot; are used. At the <lb/>headend of a specific policy, this will result in one or more <lb/>candidate paths being installed into the &quot;BGP table&quot;. These paths <lb/>are then passed to the SRPM. The SRPM may compare them to candidate <lb/>paths learned via other mechanisms, and will choose one or more paths <lb/>to be installed in the data plane. BGP itself does not install SR <lb/>Policy candidate paths into the data plane. <lb/>This document defines a new BGP address family (SAFI). In UPDATE <lb/>messages of that address family, the NLRI identifies an SR Policy, <lb/>and the attributes encode the segment lists and other details of that <lb/>SR Policy. <lb/>While for simplicity we may write that BGP advertises an SR Policy, <lb/>it has to be understood that BGP advertises a candidate path of an SR <lb/>policy and that this SR Policy might have several other candidate <lb/>paths provided via BGP (via an NLRI with a different distinguisher as <lb/>defined in this document), PCEP, NETCONF or local policy <lb/>configuration. <lb/>Typically, a controller defines the set of policies and advertise <lb/>them to policy head-end routers (typically ingress routers). The <lb/>policy advertisement uses BGP extensions defined in this document. <lb/>The policy advertisement is, in most but not all of the cases, <lb/>tailored for a specific policy head-end. In this case the <lb/>advertisement may sent on a BGP session to that head-end and not <lb/>propagated any further. <lb/>Alternatively, a router (i.e., a BGP egress router) advertises SR <lb/>Policies representing paths to itself. In this case, it is possible <lb/>to send the policy to each head-end over a BGP session to that head-<lb/>end, without requiring any further propagation of the policy. <lb/>An SR Policy intended only for the receiver will, in most cases, not <lb/>traverse any Route Reflector (RR, [RFC4456]). <lb/>In some situations, it is undesirable for a controller or BGP egress <lb/>router to have a BGP session to each policy head-end. In these <lb/>situations, BGP Route Reflectors may be used to propagate the <lb/>advertisements, or it may be necessary for the advertisement to <lb/>propagate through a sequence of one or more ASes. To make this <lb/>possible, an attribute needs to be attached to the advertisement that <lb/></body>

			<note place="footnote">Previdi, et al. <lb/>Expires January 6, 2020 <lb/></note>

			<page>[Page 4] <lb/></page>

			<note place="headnote">Internet-Draft <lb/>Segment Routing Policies in BGP <lb/>July 2019 <lb/></note>

			<body>enables a BGP speaker to determine whether it is intended to be a <lb/>head-end for the advertised policy. This is done by attaching one or <lb/>more Route Target Extended Communities to the advertisement <lb/>([RFC4360]). <lb/>The BGP extensions for the advertisement of SR Policies include <lb/>following components: <lb/>o A new Subsequent Address Family Identifier (SAFI) whose NLRI <lb/>identifies an SR Policy. <lb/>o A new Tunnel Type identifier for SR Policy, and a set of sub-TLVs <lb/>to be inserted into the Tunnel Encapsulation Attribute (as defined <lb/>in [I-D.ietf-idr-tunnel-encaps]) specifying segment lists of the <lb/>SR Policy, as well as other information about the SR Policy. <lb/>o One or more IPv4 address format route-target extended community <lb/>([RFC4360]) attached to the SR Policy advertisement and that <lb/>indicates the intended head-end of such SR Policy advertisement. <lb/>o The Color Extended Community (as defined in <lb/>[I-D.ietf-idr-tunnel-encaps]) and used in order to steer traffic <lb/>into an SR Policy, as described in section 8.4 in <lb/>[I-D.ietf-spring-segment-routing-policy]. This document <lb/>(Section 3) modifies the format of the Color Extended Community by <lb/>using the two leftmost bits of the RESERVED field. <lb/>1.1. Requirements Language <lb/>The key words &quot;MUST&quot;, &quot;MUST NOT&quot;, &quot;REQUIRED&quot;, &quot;SHALL&quot;, &quot;SHALL NOT&quot;, <lb/>&quot;SHOULD&quot;, &quot;SHOULD NOT&quot;, &quot;RECOMMENDED&quot;, &quot;MAY&quot;, and &quot;OPTIONAL&quot; in this <lb/>document are to be interpreted as described in RFC 2119 [RFC2119]. <lb/>2. SR Policy Encoding <lb/>2.1. SR Policy SAFI and NLRI <lb/>A new SAFI is defined: the SR Policy SAFI, (codepoint 73 assigned by <lb/>IANA (see Section 8) from the &quot;Subsequent Address Family Identifiers <lb/>(SAFI) Parameters&quot; registry). <lb/>The SR Policy SAFI uses a new NLRI defined as follows: <lb/></body>

			<note place="footnote">Previdi, et al. <lb/>Expires January 6, 2020 <lb/></note>

			<page>[Page 5] <lb/></page>

			<note place="headnote">Internet-Draft <lb/>Segment Routing Policies in BGP <lb/>July 2019 <lb/></note>

			<body>+------------------+ <lb/>| NLRI Length <lb/>| 1 octet <lb/>+------------------+ <lb/>| Distinguisher <lb/>| 4 octets <lb/>+------------------+ <lb/>| Policy Color <lb/>| 4 octets <lb/>+------------------+ <lb/>| Endpoint <lb/>| 4 or 16 octets <lb/>+------------------+ <lb/>where: <lb/>o NLRI Length: 1 octet of length expressed in bits as defined in <lb/>[RFC4760]. <lb/>o Distinguisher: 4-octet value uniquely identifying the policy in <lb/>the context of &lt;color, endpoint&gt; tuple. The distinguisher has no <lb/>semantic value and is solely used by the SR Policy originator to <lb/>make unique (from an NLRI perspective) multiple occurrences of the <lb/>same SR Policy. <lb/>o Policy Color: 4-octet value identifying (with the endpoint) the <lb/>policy. The color is used to match the color of the destination <lb/>prefixes to steer traffic into the SR Policy <lb/>[I-D.ietf-spring-segment-routing-policy]. <lb/>o Endpoint: identifies the endpoint of a policy. The Endpoint may <lb/>represent a single node or a set of nodes (e.g., an anycast <lb/>address). The Endpoint is an IPv4 (4-octet) address or an IPv6 <lb/>(16-octet) address according to the AFI of the NLRI. <lb/>The color and endpoint are used to automate the steering of BGP <lb/>Payload prefixes on SR Policy as described in <lb/>[I-D.ietf-spring-segment-routing-policy]. <lb/>The NLRI containing the SR Policy is carried in a BGP UPDATE message <lb/>[RFC4271] using BGP multiprotocol extensions [RFC4760] with an AFI of <lb/>1 or 2 (IPv4 or IPv6) and with a SAFI of 73 (assigned by IANA from <lb/>the &quot;Subsequent Address Family Identifiers (SAFI) Parameters&quot; <lb/>registry). <lb/>An update message that carries the MP_REACH_NLRI or MP_UNREACH_NLRI <lb/>attribute with the SR Policy SAFI MUST also carry the BGP mandatory <lb/>attributes. In addition, the BGP update message MAY also contain any <lb/>of the BGP optional attributes. <lb/>The next-hop network address field in SR Policy SAFI (73) updates may <lb/>be either a 4 octet IPv4 address or a 16 octet IPv6 address, <lb/></body>

			<note place="footnote">Previdi, et al. <lb/>Expires January 6, 2020 <lb/></note>

			<page>[Page 6] <lb/></page>

			<note place="headnote">Internet-Draft <lb/>Segment Routing Policies in BGP <lb/>July 2019 <lb/></note>

			<body>independent of the SR Policy AFI. The length field of the next-hop <lb/>address specifies the next-hop address family. If the next-hop <lb/>length is 4, then the next-hop is an IPv4 address; if the next-hop <lb/>length is 16, then it is a global IPv6 address; and if the next-hop <lb/>length is 32, then it has a global IPv6 address followed by a link-<lb/>local IPv6 address. The setting of the next-hop field and its <lb/>attendant processing is governed by standard BGP procedures as <lb/>described in section 3 in [RFC4760]. <lb/>It is important to note that any BGP speaker receiving a BGP message <lb/>with an SR Policy NLRI, will process it only if the NLRI is among the <lb/>best paths as per the BGP best path selection algorithm. In other <lb/>words, this document does not modify the BGP propagation or bestpath <lb/>selection rules. <lb/>It has to be noted that if several candidate paths of the same SR <lb/>Policy (endpoint, color) are signaled via BGP to a head-end, it is <lb/>recommended that each NLRI use a different distinguisher. If BGP has <lb/>installed into the BGP table two advertisements whose respective <lb/>NLRIs have the same color and endpoint, but different distinguishers, <lb/>both advertisements are passed to the SRPM as different candidate <lb/>paths. In addition, the originator information corresponding to the <lb/>each candidate path, as described in section 2.4 in <lb/>[I-D.ietf-spring-segment-routing-policy], is passed to the SRPM. <lb/>2.2. SR Policy and Tunnel Encapsulation Attribute <lb/>The content of the SR Policy is encoded in the Tunnel Encapsulation <lb/>Attribute originally defined in [I-D.ietf-idr-tunnel-encaps] using a <lb/>new Tunnel-Type TLV (codepoint is 15, assigned by IANA (see <lb/>Section 8) from the &quot;BGP Tunnel Encapsulation Attribute Tunnel Types&quot; <lb/>registry). <lb/>The SR Policy Encoding structure is as follows: <lb/></body>

			<note place="footnote">Previdi, et al. <lb/>Expires January 6, 2020 <lb/></note>

			<page>[Page 7] <lb/></page>

			<note place="headnote">Internet-Draft <lb/>Segment Routing Policies in BGP <lb/>July 2019 <lb/></note>

			<body>SR Policy SAFI NLRI: &lt;Distinguisher, Policy-Color, Endpoint&gt; <lb/>Attributes: <lb/>Tunnel Encaps Attribute (23) <lb/>Tunnel Type: SR Policy <lb/>Binding SID <lb/>Preference <lb/>Priority <lb/>Policy Name <lb/>Explicit NULL Label Policy (ENLP) <lb/>Segment List <lb/>Weight <lb/>Segment <lb/>Segment <lb/>... <lb/>... <lb/>where: <lb/>o SR Policy SAFI NLRI is defined in Section 2.1. <lb/>o Tunnel Encapsulation Attribute is defined in <lb/>[I-D.ietf-idr-tunnel-encaps]. <lb/>o Tunnel-Type is set to 15 (assigned by IANA from the &quot;BGP Tunnel <lb/>Encapsulation Attribute Tunnel Types&quot; registry). <lb/>o Preference, Binding SID, Priority, Policy Name, ENLP, Segment-<lb/>List, Weight and Segment sub-TLVs are defined in this document. <lb/>o Additional sub-TLVs may be defined in the future. <lb/>A Tunnel Encapsulation Attribute MUST NOT contain more than one TLV <lb/>of type &quot;SR Policy&quot;. If more than one TLV of type &quot;SR Policy&quot; <lb/>appears, the update is considered malformed and the &quot;treat-as-<lb/>withdraw&quot; strategy of [RFC7606] is applied. <lb/>Multiple occurrences of &quot;Segment List&quot; MAY be encoded within the same <lb/>SR Policy. <lb/>Multiple occurrences of &quot;Segment&quot; MAY be encoded within the same <lb/>Segment List. <lb/>2.3. Remote Endpoint and Color <lb/>The Remote Endpoint and Color sub-TLVs, as defined in <lb/>[I-D.ietf-idr-tunnel-encaps], MAY also be present in the SR Policy <lb/>encodings. <lb/></body>

			<note place="footnote">Previdi, et al. <lb/>Expires January 6, 2020 <lb/></note>

			<page>[Page 8] <lb/></page>

			<note place="headnote">Internet-Draft <lb/>Segment Routing Policies in BGP <lb/>July 2019 <lb/></note>

			<body>The Remote Endpoint and Color Sub-TLVs are not used for SR Policy <lb/>encodings and therefore their value is irrelevant in the context of <lb/>the SR Policy SAFI NLRI. If present, the Remote Endpoint sub-TLV and <lb/>the Color sub-TLV MUST be ignored by the BGP speaker. <lb/>2.4. SR Policy Sub-TLVs <lb/>This section defines the SR Policy sub-TLVs. <lb/>Preference, Binding SID, Segment-List, Priority, Policy Name and <lb/>Explicit NULL Label Policy sub-TLVs are assigned from the &quot;BGP Tunnel <lb/>Encapsulation Attribute Sub-TLVs&quot; registry. <lb/>Weight and Segment sub-TLVs are assigned from a new registry defined <lb/>in this document and called: &quot;SR Policy List Sub-TLVs&quot;. See <lb/>Section 8 for the details of the registry. <lb/>2.4.1. Preference Sub-TLV <lb/>The Preference sub-TLV does not have any effect on the BGP bestpath <lb/>selection or propagation procedures. The contents of this sub-TLV <lb/>are used by the SRPM as described in section 2.7 in <lb/>[I-D.ietf-spring-segment-routing-policy]. <lb/>The Preference sub-TLV is optional and it MUST NOT appear more than <lb/>once in the SR Policy. If the Preference sub-TLV appears more than <lb/>once, the update is considered malformed and the &quot;treat-as-withdraw&quot; <lb/>strategy of [RFC7606] is applied. <lb/>The Preference sub-TLV has following format: <lb/>0 <lb/>1 <lb/>2 <lb/>3 <lb/>0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 <lb/>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ <lb/>| <lb/>Type <lb/>| <lb/>Length <lb/>| <lb/>Flags <lb/>| <lb/>RESERVED <lb/>| <lb/>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ <lb/>| <lb/>Preference (4 octets) <lb/>| <lb/>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ <lb/>where: <lb/>o Type: 12 <lb/>o Length: 6. <lb/>o Flags: 1 octet of flags. None are defined at this stage. Flags <lb/>SHOULD be set to zero on transmission and MUST be ignored on <lb/>receipt. <lb/></body>

			<note place="footnote">Previdi, et al. <lb/>Expires January 6, 2020 <lb/></note>

			<page>[Page 9] <lb/></page>

			<note place="headnote">Internet-Draft <lb/>Segment Routing Policies in BGP <lb/>July 2019 <lb/></note>

			<body>o RESERVED: 1 octet of reserved bits. SHOULD be unset on <lb/>transmission and MUST be ignored on receipt. <lb/>o Preference: a 4-octet value. <lb/>2.4.2. Binding SID Sub-TLV <lb/>The Binding SID sub-TLV is not used by BGP. The contents of this <lb/>sub-TLV are used by the SRPM as described in section 6 in <lb/>[I-D.ietf-spring-segment-routing-policy]. <lb/>The Binding SID sub-TLV is optional and it MUST NOT appear more than <lb/>once in the SR Policy. If the Binding SID sub-TLV appears more than <lb/>once, the update is considered malformed and the &quot;treat-as-withdraw&quot; <lb/>strategy of [RFC7606] is applied. <lb/>The Binding SID sub-TLV has the following format: <lb/>0 <lb/>1 <lb/>2 <lb/>3 <lb/>0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 <lb/>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ <lb/>| <lb/>Type <lb/>| <lb/>Length <lb/>| <lb/>Flags <lb/>| <lb/>RESERVED <lb/>| <lb/>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ <lb/>| <lb/>Binding SID (variable, optional) <lb/>| <lb/>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ <lb/>where: <lb/>o Type: 13 <lb/>o Length: specifies the length of the value field not including Type <lb/>and Length fields. Can be 2 or 6 or 18. <lb/>o Flags: 1 octet of flags. Following flags are defined (to be <lb/>assigned by IANA from the registry &quot;SR Policy Binding SID Flags&quot; <lb/>defined in this document Section 8.5): <lb/>0 1 2 3 4 5 6 7 <lb/>+-+-+-+-+-+-+-+-+ <lb/>|S|I| <lb/>| <lb/>+-+-+-+-+-+-+-+-+ <lb/>where: <lb/>* S-Flag: This flag encodes the &quot;Specified-BSID-only&quot; behavior. <lb/>It is used by SRPM as described in section 6.2.3 in <lb/>[I-D.ietf-spring-segment-routing-policy]. <lb/></body>

			<note place="footnote">Previdi, et al. <lb/>Expires January 6, 2020 <lb/></note>

			<page>[Page 10] <lb/></page>

			<note place="headnote">Internet-Draft <lb/>Segment Routing Policies in BGP <lb/>July 2019 <lb/></note>

			<body>* I-Flag: This flag encodes the &quot;Drop Upon Invalid&quot; behavior. It <lb/>is used by SRPM as described in section 8.2 in <lb/>[I-D.ietf-spring-segment-routing-policy]. <lb/>* Unused bits in the Flag octet SHOULD be set to zero upon <lb/>transmission and MUST be ignored upon receipt. <lb/>o RESERVED: 1 octet of reserved bits. SHOULD be unset on <lb/>transmission and MUST be ignored on receipt. <lb/>o Binding SID: if length is 2, then no Binding SID is present. <lb/>o If length is 6 then the Binding SID contains a 4-octet SID. Below <lb/>format is used to encode the SID. TC, S, TTL(Total of 12bits) are <lb/>RESERVED and SHOULD be set to Zero and MUST be ignored. <lb/>0 <lb/>1 <lb/>2 <lb/>3 <lb/>0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 <lb/>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ <lb/>| <lb/>Label <lb/>| TC |S| <lb/>TTL <lb/>| <lb/>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ <lb/>If length is 18 then the Binding SID contains a 16-octet IPv6 SID. <lb/>2.4.3. Segment List Sub-TLV <lb/>The Segment List sub-TLV encodes a single explicit path towards the <lb/>endpoint as described in section 5.1 in <lb/>[I-D.ietf-spring-segment-routing-policy]. The Segment List sub-TLV <lb/>includes the elements of the paths (i.e., segments) as well as an <lb/>optional Weight sub-TLV. <lb/>The Segment List sub-TLV may exceed 255 bytes length due to large <lb/>number of segments. Therefore a 2-octet length is required. <lb/>According to [I-D.ietf-idr-tunnel-encaps], the first bit of the sub-<lb/>TLV codepoint defines the size of the length field. Therefore, for <lb/>the Segment List sub-TLV a code point of 128 (or higher) is used. <lb/>See Section 8 for details of codepoints allocation. <lb/>The Segment List sub-TLV is optional and MAY appear multiple times in <lb/>the SR Policy. The ordering of Segment List sub-TLVs, each sub-TLV <lb/>encoding a Segment List, does not matter. <lb/>The Segment List sub-TLV contains zero or more Segment sub-TLVs and <lb/>MAY contain a Weight sub-TLV. <lb/>The Segment List sub-TLV has the following format: <lb/></body>

			<note place="footnote">Previdi, et al. <lb/>Expires January 6, 2020 <lb/></note>

			<page>[Page 11] <lb/></page>

			<note place="headnote">Internet-Draft <lb/>Segment Routing Policies in BGP <lb/>July 2019 <lb/></note>

			<body>0 <lb/>1 <lb/>2 <lb/>3 <lb/>0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 <lb/>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ <lb/>| <lb/>Type <lb/>| <lb/>Length <lb/>| <lb/>RESERVED <lb/>| <lb/>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ <lb/>// <lb/>sub-TLVs <lb/>// <lb/>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ <lb/>where: <lb/>o Type: 128. <lb/>o Length: the total length (not including the Type and Length <lb/>fields) of the sub-TLVs encoded within the Segment List sub-TLV. <lb/>o RESERVED: 1 octet of reserved bits. SHOULD be unset on <lb/>transmission and MUST be ignored on receipt. <lb/>o sub-TLVs: <lb/>* An optional single Weight sub-TLV. <lb/>* Zero or more Segment sub-TLVs. <lb/>Validation of an explicit path encoded by the Segment List sub-TLV is <lb/>completely within the scope of SRPM as described in section 5 in <lb/>[I-D.ietf-spring-segment-routing-policy]. <lb/>2.4.3.1. Weight Sub-TLV <lb/>The Weight sub-TLV specifies the weight associated to a given segment <lb/>list. The contents of this sub-TLV are used only by the SRPM as <lb/>described in section 2.11 in <lb/>[I-D.ietf-spring-segment-routing-policy]. <lb/>The Weight sub-TLV is optional and it MUST NOT appear more than once <lb/>inside the Segment List sub-TLV. If the Weight sub-TLV appears more <lb/>than once, the update is considered malformed and the &quot;treat-as-<lb/>withdraw&quot; strategy of [RFC7606] is applied. <lb/>The Weight sub-TLV has the following format: <lb/></body>

			<note place="footnote">Previdi, et al. <lb/>Expires January 6, 2020 <lb/></note>

			<page>[Page 12] <lb/></page>

			<note place="headnote">Internet-Draft <lb/>Segment Routing Policies in BGP <lb/>July 2019 <lb/></note>

			<body>0 <lb/>1 <lb/>2 <lb/>3 <lb/>0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 <lb/>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ <lb/>| <lb/>Type <lb/>| <lb/>Length <lb/>| <lb/>Flags <lb/>| <lb/>RESERVED <lb/>| <lb/>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ <lb/>| <lb/>Weight <lb/>| <lb/>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ <lb/>where: <lb/>Type: 9 (to be assigned by IANA from the registry &quot;SR Policy List <lb/>Sub-TLVs&quot; defined in this document). <lb/>Length: 6. <lb/>Flags: 1 octet of flags. None are defined at this stage. Flags <lb/>SHOULD be set to zero on transmission and MUST be ignored on receipt. <lb/>RESERVED: 1 octet of reserved bits. SHOULD be unset on transmission <lb/>and MUST be ignored on receipt. <lb/>2.4.3.2. Segment Sub-TLV <lb/>The Segment sub-TLV describes a single segment in a segment list <lb/>(i.e., a single element of the explicit path). Multiple Segment sub-<lb/>TLVs constitute an explicit path of the SR Policy. <lb/>The Segment sub-TLV is optional and MAY appear multiple times in the <lb/>Segment List sub-TLV. <lb/>The Segment sub-TLV does not have any effect on the BGP bestpath <lb/>selection or propagation procedures. The contents of this sub-TLV <lb/>are used only by the SRPM as described in section 4 in <lb/>[I-D.ietf-spring-segment-routing-policy]. <lb/>[I-D.ietf-spring-segment-routing-policy] defines several types of <lb/>Segments: <lb/></body>

			<note place="footnote">Previdi, et al. <lb/>Expires January 6, 2020 <lb/></note>

			<page>[Page 13] <lb/></page>

			<note place="headnote">Internet-Draft <lb/>Segment Routing Policies in BGP <lb/>July 2019 <lb/></note>

			<body>Type 1: SID only, in the form of MPLS Label <lb/>Type 2: SID only, in the form of IPv6 address <lb/>Type 3: IPv4 Node Address with optional SID <lb/>Type 4: IPv6 Node Address with optional SID for SR MPLS <lb/>Type 5: IPv4 Address + index with optional SID <lb/>Type 6: IPv4 Local and Remote addresses with optional SID <lb/>Type 7: IPv6 Address + index for local and remote pair with optional SID for SR MPLS <lb/>Type 8: IPv6 Local and Remote addresses with optional SID for SR MPLS <lb/>Type 9: IPv6 Node Address with optional SID for SRv6 <lb/>Type 10: IPv6 Address + index for local and remote pair with optional SID for SRv6 <lb/>Type 11: IPv6 Local and Remote addresses for SRv6 <lb/>2.4.3.2.1. Type 1: SID only, in the form of MPLS Label <lb/>The Type-1 Segment Sub-TLV encodes a single SID in the form of an <lb/>MPLS label. The format is as follows: <lb/>0 <lb/>1 <lb/>2 <lb/>3 <lb/>0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 <lb/>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ <lb/>| <lb/>Type <lb/>| <lb/>Length <lb/>| <lb/>Flags <lb/>| <lb/>RESERVED <lb/>| <lb/>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ <lb/>| <lb/>Label <lb/>| TC |S| <lb/>TTL <lb/>| <lb/>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ <lb/>where: <lb/>o Type: 1 (to be assigned by IANA from the registry &quot;SR Policy List <lb/>Sub-TLVs&quot; defined in this document). <lb/>o Length is 6. <lb/>o Flags: 1 octet of flags as defined in Section 2.4.3.2.12. <lb/>o RESERVED: 1 octet of reserved bits. SHOULD be unset on <lb/>transmission and MUST be ignored on receipt. <lb/>o Label: 20 bits of label value. <lb/>o TC: 3 bits of traffic class. <lb/>o S: 1 bit of bottom-of-stack. <lb/>o TTL: 1 octet of TTL. <lb/>The following applies to the Type-1 Segment sub-TLV: <lb/></body>

			<note place="footnote">Previdi, et al. <lb/>Expires January 6, 2020 <lb/></note>

			<page>[Page 14] <lb/></page>

			<note place="headnote">Internet-Draft <lb/>Segment Routing Policies in BGP <lb/>July 2019 <lb/></note>

			<body>o The S bit SHOULD be zero upon transmission, and MUST be ignored <lb/>upon reception. <lb/>o If the originator wants the receiver to choose the TC value, it <lb/>sets the TC field to zero. <lb/>o If the originator wants the receiver to choose the TTL value, it <lb/>sets the TTL field to 255. <lb/>o If the originator wants to recommend a value for these fields, it <lb/>puts those values in the TC and/or TTL fields. <lb/>o The receiver MAY override the originator&apos;s values for these <lb/>fields. This would be determined by local policy at the receiver. <lb/>One possible policy would be to override the fields only if the <lb/>fields have the default values specified above. <lb/>2.4.3.2.2. Type 2: SID only, in the form of IPv6 address <lb/>The Type-2 Segment Sub-TLV encodes a single SRv6 SID in the form of <lb/>an IPv6 address. The format is as follows: <lb/>0 <lb/>1 <lb/>2 <lb/>3 <lb/>0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 <lb/>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ <lb/>| <lb/>Type <lb/>| <lb/>Length <lb/>| <lb/>Flags <lb/>| <lb/>RESERVED <lb/>| <lb/>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ <lb/>// <lb/>SRv6 SID (16 octets) <lb/>// <lb/>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ <lb/>where: <lb/>o Type: 2 (to be assigned by IANA from the registry &quot;SR Policy List <lb/>Sub-TLVs&quot; defined in this document). <lb/>o Length is 18. <lb/>o Flags: 1 octet of flags as defined in Section 2.4.3.2.12. <lb/>o RESERVED: 1 octet of reserved bits. SHOULD be unset on <lb/>transmission and MUST be ignored on receipt. <lb/>o SRv6 SID: 16 octets of IPv6 address. <lb/>The IPv6 Segment Identifier (SRv6 SID) is defined in <lb/>[I-D.ietf-6man-segment-routing-header]. <lb/></body>

			<note place="footnote">Previdi, et al. <lb/>Expires January 6, 2020 <lb/></note>

			<page>[Page 15] <lb/></page>

			<note place="headnote">Internet-Draft <lb/>Segment Routing Policies in BGP <lb/>July 2019 <lb/></note>

			<body>2.4.3.2.3. Type 3: IPv4 Node Address with optional SID <lb/>The Type-3 Segment Sub-TLV encodes an IPv4 node address, SR Algorithm <lb/>and an optional SID in the form of an MPLS label. The format is as <lb/>follows: <lb/>0 <lb/>1 <lb/>2 <lb/>3 <lb/>0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 <lb/>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ <lb/>| <lb/>Type <lb/>| <lb/>Length <lb/>| <lb/>Flags <lb/>| SR Algorithm | <lb/>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ <lb/>| <lb/>IPv4 Node Address (4 octets) <lb/>| <lb/>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ <lb/>| <lb/>SID (optional, 4 octets) <lb/>| <lb/>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ <lb/>where: <lb/>o Type: 3 (to be assigned by IANA from the registry &quot;SR Policy List <lb/>Sub-TLVs&quot; defined in this document). <lb/>o Length is 6 or 10. <lb/>o Flags: 1 octet of flags as defined in Section 2.4.3.2.12. <lb/>o SR Algorithm: 1 octet specifying SR Algorithm as described in <lb/>section 3.1.1 in [I-D.ietf-spring-segment-routing], when A-Flag as <lb/>defined in Section 2.4.3.2.12 is present. SR Algorithm is used by <lb/>SRPM as described in section 4 in <lb/>[I-D.ietf-spring-segment-routing-policy]. When A-Flag is not <lb/>encoded, this field SHOULD be unset on transmission and MUST be <lb/>ignored on receipt. <lb/>o IPv4 Node Address: a 4 octet IPv4 address representing a node. <lb/>o SID: 4 octet MPLS label. <lb/>The following applies to the Type-3 Segment sub-TLV: <lb/>o The IPv4 Node Address MUST be present. <lb/>o The SID is optional and specifies a 4 octet MPLS SID containing <lb/>label, TC, S and TTL as defined in Section 2.4.3.2.1. <lb/>o If length is 6, then only the IPv4 Node Address is present. <lb/>o If length is 10, then the IPv4 Node Address and the MPLS SID are <lb/>present. <lb/></body>

			<note place="footnote">Previdi, et al. <lb/>Expires January 6, 2020 <lb/></note>

			<page>[Page 16] <lb/></page>

			<note place="headnote">Internet-Draft <lb/>Segment Routing Policies in BGP <lb/>July 2019 <lb/></note>

			<body>2.4.3.2.4. Type 4: IPv6 Node Address with optional SID for SR MPLS <lb/>The Type-4 Segment Sub-TLV encodes an IPv6 node address, SR Algorithm <lb/>and an optional SID in the form of an MPLS label. The format is as <lb/>follows: <lb/>0 <lb/>1 <lb/>2 <lb/>3 <lb/>0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 <lb/>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ <lb/>| <lb/>Type <lb/>| <lb/>Length <lb/>| <lb/>Flags <lb/>| SR Algorithm | <lb/>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ <lb/>// <lb/>IPv6 Node Address (16 octets) <lb/>// <lb/>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ <lb/>| <lb/>SID (optional, 4 octets) <lb/>| <lb/>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ <lb/>where: <lb/>o Type: 4 (to be assigned by IANA from the registry &quot;SR Policy List <lb/>Sub-TLVs&quot; defined in this document). <lb/>o Length is 18 or 22. <lb/>o Flags: 1 octet of flags as defined in Section 2.4.3.2.12. <lb/>o SR Algorithm: 1 octet specifying SR Algorithm as described in <lb/>section 3.1.1 in [I-D.ietf-spring-segment-routing], when A-Flag as <lb/>defined in Section 2.4.3.2.12 is present. SR Algorithm is used by <lb/>SRPM as described in section 4 in <lb/>[I-D.ietf-spring-segment-routing-policy]. When A-Flag is not <lb/>encoded, this field SHOULD be unset on transmission and MUST be <lb/>ignored on receipt. <lb/>o IPv6 Node Address: a 16 octet IPv6 address representing a node. <lb/>o SID: 4 octet MPLS label. <lb/>The following applies to the Type-4 Segment sub-TLV: <lb/>o The IPv6 Node Address MUST be present. <lb/>o The SID is optional and specifies a 4 octet MPLS SID containing <lb/>label, TC, S and TTL as defined in Section 2.4.3.2.1. <lb/>o If length is 18, then only the IPv6 Node Address is present. <lb/>o If length is 22, then the IPv6 Node Address and the MPLS SID are <lb/>present. <lb/></body>

			<note place="footnote">Previdi, et al. <lb/>Expires January 6, 2020 <lb/></note>

			<page>[Page 17] <lb/></page>

			<note place="headnote">Internet-Draft <lb/>Segment Routing Policies in BGP <lb/>July 2019 <lb/></note>

			<body>2.4.3.2.5. Type 5: IPv4 Address + Local Interface ID with optional SID <lb/>The Type-5 Segment Sub-TLV encodes an IPv4 node address, a local <lb/>interface Identifier (Local Interface ID) and an optional SID in the <lb/>form of an MPLS label. The format is as follows: <lb/>0 <lb/>1 <lb/>2 <lb/>3 <lb/>0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 <lb/>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ <lb/>| <lb/>Type <lb/>| <lb/>Length <lb/>| <lb/>Flags <lb/>| <lb/>RESERVED <lb/>| <lb/>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ <lb/>| <lb/>Local Interface ID (4 octets) <lb/>| <lb/>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ <lb/>| <lb/>IPv4 Node Address (4 octets) <lb/>| <lb/>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ <lb/>| <lb/>SID (optional, 4 octets) <lb/>| <lb/>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ <lb/>where: <lb/>o Type: 5 (to be assigned by IANA from the registry &quot;SR Policy List <lb/>Sub-TLVs&quot; defined in this document). <lb/>o Length is 10 or 14. <lb/>o Flags: 1 octet of flags as defined in Section 2.4.3.2.12. <lb/>o RESERVED: 1 octet of reserved bits. SHOULD be unset on <lb/>transmission and MUST be ignored on receipt. <lb/>o Local Interface ID: 4 octets of interface index as defined in <lb/>[I-D.ietf-pce-segment-routing]. <lb/>o IPv4 Node Address: a 4 octet IPv4 address representing a node. <lb/>o SID: 4 octet MPLS label. <lb/>The following applies to the Type-5 Segment sub-TLV: <lb/>o The IPv4 Node Address MUST be present. <lb/>o The Local Interface ID MUST be present. <lb/>o The SID is optional and specifies a 4 octet MPLS SID containing <lb/>label, TC, S and TTL as defined in Section 2.4.3.2.1. <lb/>o If length is 10, then the IPv4 Node Address and Local Interface ID <lb/>are present. <lb/></body>

			<note place="footnote">Previdi, et al. <lb/>Expires January 6, 2020 <lb/></note>

			<page>[Page 18] <lb/></page>

			<note place="headnote">Internet-Draft <lb/>Segment Routing Policies in BGP <lb/>July 2019 <lb/></note>

			<body>o If length is 14, then the IPv4 Node Address, the Local Interface <lb/>ID and the MPLS SID are present. <lb/>2.4.3.2.6. Type 6: IPv4 Local and Remote addresses with optional SID <lb/>The Type-6 Segment Sub-TLV encodes an adjacency local address, an <lb/>adjacency remote address and an optional SID in the form of an MPLS <lb/>label. The format is as follows: <lb/>0 <lb/>1 <lb/>2 <lb/>3 <lb/>0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 <lb/>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ <lb/>| <lb/>Type <lb/>| <lb/>Length <lb/>| <lb/>Flags <lb/>| <lb/>RESERVED <lb/>| <lb/>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ <lb/>| <lb/>Local IPv4 Address (4 octets) <lb/>| <lb/>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ <lb/>| <lb/>Remote IPv4 Address (4 octets) <lb/>| <lb/>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ <lb/>| <lb/>SID (optional, 4 octets) <lb/>| <lb/>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ <lb/>where: <lb/>o Type: 6 (to be assigned by IANA from the registry &quot;SR Policy List <lb/>Sub-TLVs&quot; defined in this document). <lb/>o Length is 10 or 14. <lb/>o Flags: 1 octet of flags as defined in Section 2.4.3.2.12. <lb/>o RESERVED: 1 octet of reserved bits. SHOULD be unset on <lb/>transmission and MUST be ignored on receipt. <lb/>o Local IPv4 Address: a 4 octet IPv4 address. <lb/>o Remote IPv4 Address: a 4 octet IPv4 address. <lb/>o SID: 4 octet MPLS label. <lb/>The following applies to the Type-6 Segment sub-TLV: <lb/>o The Local IPv4 Address MUST be present and represents an adjacency <lb/>local address. <lb/>o The Remote IPv4 Address MUST be present and represents the remote <lb/>end of the adjacency. <lb/></body>

			<note place="footnote">Previdi, et al. <lb/>Expires January 6, 2020 <lb/></note>

			<page>[Page 19] <lb/></page>

			<note place="headnote">Internet-Draft <lb/>Segment Routing Policies in BGP <lb/>July 2019 <lb/></note>

			<body>o The SID is optional and specifies a 4 octet MPLS SID containing <lb/>label, TC, S and TTL as defined in Section 2.4.3.2.1. <lb/>o If length is 10, then only the IPv4 Local and Remote addresses are <lb/>present. <lb/>o If length is 14, then the IPv4 Local address, IPv4 Remote address <lb/>and the MPLS SID are present. <lb/>2.4.3.2.7. Type 7: IPv6 Address + Interface ID for local and remote <lb/>pair with optional SID for SR MPLS <lb/>The Type-7 Segment Sub-TLV encodes an IPv6 Link Local adjacency with <lb/>IPv6 local node address, a local interface identifier (Local <lb/>Interface ID), IPv6 remote node address , a remote interface <lb/>identifier (Remote Interface ID) and an optional SID in the form of <lb/>an MPLS label. The format is as follows: <lb/>0 <lb/>1 <lb/>2 <lb/>3 <lb/>0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 <lb/>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ <lb/>| <lb/>Type <lb/>| <lb/>Length <lb/>| <lb/>Flags <lb/>| <lb/>RESERVED <lb/>| <lb/>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ <lb/>| <lb/>Local Interface ID (4 octets) <lb/>| <lb/>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ <lb/>// <lb/>IPv6 Local Node Address (16 octets) <lb/>// <lb/>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ <lb/>| <lb/>Remote Interface ID (4 octets) <lb/>| <lb/>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ <lb/>// <lb/>IPv6 Remote Node Address (16 octets) <lb/>// <lb/>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ <lb/>| <lb/>SID (optional, 4 octets) <lb/>| <lb/>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ <lb/>where: <lb/>o Type: 7 (to be assigned by IANA from the registry &quot;SR Policy List <lb/>Sub-TLVs&quot; defined in this document). <lb/>o Length is 22, 26, 42 or 46. <lb/>o Flags: 1 octet of flags as defined in Section 2.4.3.2.12. <lb/>o RESERVED: 1 octet of reserved bits. SHOULD be unset on <lb/>transmission and MUST be ignored on receipt. <lb/>o Local Interface ID: 4 octets of interface index as defined in <lb/>[I-D.ietf-pce-segment-routing]. <lb/></body>

			<note place="footnote">Previdi, et al. <lb/>Expires January 6, 2020 <lb/></note>

			<page>[Page 20] <lb/></page>

			<note place="headnote">Internet-Draft <lb/>Segment Routing Policies in BGP <lb/>July 2019 <lb/></note>

			<body>o IPv6 Local Node Address: a 16 octet IPv6 address. <lb/>o Remote Interface ID: 4 octets of interface index as defined in <lb/>[I-D.ietf-pce-segment-routing]. <lb/>o IPv6 Remote Node Address: a 16 octet IPv6 address. <lb/>o SID: 4 octet MPLS label. <lb/>The following applies to the Type-7 Segment sub-TLV: <lb/>o The Local Interface ID and IPv6 Local Node Address MUST be <lb/>present. <lb/>o The Remote Interface ID and Remote Node Address pair is optional. <lb/>If Remote Interface ID is present, the Remote Node Address MUST be <lb/>present as well. Similarly, if Remote Node Address is present, <lb/>the Remote Interface ID MUST be present as well. <lb/>o The SID is optional and specifies a 4 octet MPLS SID containing <lb/>label, TC, S and TTL as defined in Section 2.4.3.2.1. <lb/>o If length is 22, then the Local Interface ID and the Local IPv6 <lb/>Address are present. <lb/>o If length is 26, then the Local Interface ID, Local IPv6 Address <lb/>and the MPLS SID are present. <lb/>o If length is 42, then the Local Interface ID, Local IPv6 Node <lb/>Address, Remote Interface ID, and the Remote IPv6 Node Address are <lb/>present. <lb/>o If length is 46, then the Local Interface ID, Local IPv6 Node <lb/>Address, Remote Interface ID, Remote IPv6 Node Address and the <lb/>MPLS SID are present. <lb/>2.4.3.2.8. Type 8: IPv6 Local and Remote addresses with optional SID <lb/>for SR MPLS <lb/>The Type-8 Segment Sub-TLV encodes an adjacency local address, an <lb/>adjacency remote address and an optional SID in the form of an MPLS <lb/>label. The format is as follows: <lb/></body>

			<note place="footnote">Previdi, et al. <lb/>Expires January 6, 2020 <lb/></note>

			<page>[Page 21] <lb/></page>

			<note place="headnote">Internet-Draft <lb/>Segment Routing Policies in BGP <lb/>July 2019 <lb/></note>

			<body>0 <lb/>1 <lb/>2 <lb/>3 <lb/>0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 <lb/>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ <lb/>| <lb/>Type <lb/>| <lb/>Length <lb/>| <lb/>Flags <lb/>| <lb/>RESERVED <lb/>| <lb/>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ <lb/>// <lb/>Local IPv6 Address (16 octets) <lb/>// <lb/>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ <lb/>// <lb/>Remote IPv6 Address (16 octets) <lb/>// <lb/>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ <lb/>| <lb/>SID (optional, 4 octets) <lb/>| <lb/>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ <lb/>where: <lb/>o Type: 8 (to be assigned by IANA from the registry &quot;SR Policy List <lb/>Sub-TLVs&quot; defined in this document). <lb/>o Length is 34 or 38. <lb/>o Flags: 1 octet of flags as defined in Section 2.4.3.2.12. <lb/>o RESERVED: 1 octet of reserved bits. SHOULD be unset on <lb/>transmission and MUST be ignored on receipt. <lb/>o Local IPv6 Address: a 16 octet IPv6 address. <lb/>o Remote IPv6 Address: a 16 octet IPv6 address. <lb/>o SID: 4 octet MPLS label. <lb/>The following applies to the Type-8 Segment sub-TLV: <lb/>o The Local IPv6 Address MUST be present and represents an adjacency <lb/>local address. <lb/>o The Remote IPv6 Address MUST be present and represents the remote <lb/>end of the adjacency. <lb/>o The SID is optional and specifies a 4 octet MPLS SID containing <lb/>label, TC, S and TTL as defined in Section 2.4.3.2.1. <lb/>o If length is 34, then only the IPv6 Local and Remote addresses are <lb/>present. <lb/>o If length is 38, then IPv6 Local and Remote addresses and the MPLS <lb/>SID are present. <lb/></body>

			<note place="footnote">Previdi, et al. <lb/>Expires January 6, 2020 <lb/></note>

			<page>[Page 22] <lb/></page>

			<note place="headnote">Internet-Draft <lb/>Segment Routing Policies in BGP <lb/>July 2019 <lb/></note>

			<body>2.4.3.2.9. Type 9: IPv6 Node Address with optional SRv6 SID <lb/>The Type-9 Segment Sub-TLV encodes an IPv6 node address, SR Algorithm <lb/>and an optional SID in the form of an IPv6 address. The format is as <lb/>follows: <lb/>0 <lb/>1 <lb/>2 <lb/>3 <lb/>0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 <lb/>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ <lb/>| <lb/>Type <lb/>| <lb/>Length <lb/>| <lb/>Flags <lb/>| SR Algorithm | <lb/>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ <lb/>// <lb/>IPv6 Node Address (16 octets) <lb/>// <lb/>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ <lb/>// <lb/>SID (optional, 16 octets) <lb/>// <lb/>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ <lb/>where: <lb/>o Type: 10 (to be assigned by IANA from the registry &quot;SR Policy List <lb/>Sub-TLVs&quot; defined in this document). <lb/>o Length is 18 or 34. <lb/>o Flags: 1 octet of flags as defined in Section 2.4.3.2.12. <lb/>o SR Algorithm: 1 octet specifying SR Algorithm as described in <lb/>section 3.1.1 in [I-D.ietf-spring-segment-routing], when A-Flag as <lb/>defined in Section 2.4.3.2.12 is present. SR Algorithm is used by <lb/>SRPM as described in section 4 in <lb/>[I-D.ietf-spring-segment-routing-policy]. When A-Flag is not <lb/>encoded, this field SHOULD be unset on transmission and MUST be <lb/>ignored on receipt. <lb/>o IPv6 Node Address: a 16 octet IPv6 address. <lb/>o SID: 16 octet IPv6 address. <lb/>The following applies to the Type-9 Segment sub-TLV: <lb/>o The IPv6 Node Address MUST be present. <lb/>o The SID is optional and specifies an SRv6 SID in the form of 16 <lb/>octet IPv6 address. <lb/>o If length is 18, then only the IPv6 Node Address is present. <lb/>o If length is 34, then the IPv6 Node Address and the SRv6 SID are <lb/>present. <lb/></body>

			<note place="footnote">Previdi, et al. <lb/>Expires January 6, 2020 <lb/></note>

			<page>[Page 23] <lb/></page>

			<note place="headnote">Internet-Draft <lb/>Segment Routing Policies in BGP <lb/>July 2019 <lb/></note>

			<body>2.4.3.2.10. Type 10: IPv6 Address + Interface ID for local and remote <lb/>pair for SRv6 with optional SID <lb/>The Type-10 Segment Sub-TLV encodes an IPv6 Link Local adjacency with <lb/>local node address, a local interface identifier (Local Interface <lb/>ID), remote IPv6 node address , a remote interface identifier (Remote <lb/>Interface ID) and an optional SID in the form of an IPv6 address. <lb/>The format is as follows: <lb/>0 <lb/>1 <lb/>2 <lb/>3 <lb/>0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 <lb/>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ <lb/>| <lb/>Type <lb/>| <lb/>Length <lb/>| <lb/>Flags <lb/>| <lb/>RESERVED <lb/>| <lb/>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ <lb/>| <lb/>Local Interface ID (4 octets) <lb/>| <lb/>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ <lb/>// <lb/>IPv6 Local Node Address (16 octets) <lb/>// <lb/>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ <lb/>| <lb/>Remote Interface ID (4 octets) <lb/>| <lb/>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ <lb/>// <lb/>IPv6 Remote Node Address (16 octets) <lb/>// <lb/>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ <lb/>// <lb/>SID (optional, 16 octets) <lb/>// <lb/>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ <lb/>where: <lb/>o Type: 11 (to be assigned by IANA from the registry &quot;SR Policy List <lb/>Sub-TLVs&quot; defined in this document). <lb/>o Length is 22, 38, 42 or 58. <lb/>o Flags: 1 octet of flags as defined in Section 2.4.3.2.12. <lb/>o RESERVED: 1 octet of reserved bits. SHOULD be unset on <lb/>transmission and MUST be ignored on receipt. <lb/>o Local Interface ID: 4 octets of interface index as defined in <lb/>[I-D.ietf-pce-segment-routing]. <lb/>o IPv6 Local Node Address: a 16 octet IPv6 address. <lb/>o Remote Interface ID: 4 octets of interface index as defined in <lb/>[I-D.ietf-pce-segment-routing]. <lb/>o IPv6 Remote Node Address: a 16 octet IPv6 address. <lb/>o SID: 16 octet IPv6 address. <lb/></body>

			<note place="footnote">Previdi, et al. <lb/>Expires January 6, 2020 <lb/></note>

			<page>[Page 24] <lb/></page>

			<note place="headnote">Internet-Draft <lb/>Segment Routing Policies in BGP <lb/>July 2019 <lb/></note>

			<body>The following applies to the Type-10 Segment sub-TLV: <lb/>o The Local Interface ID and the Local IPv6 Node Addresses MUST be <lb/>present. <lb/>o The Remote Interface ID and Remote Node Address pair is optional. <lb/>If Remote Interface ID is present, the Remote Node Address MUST be <lb/>present as well. Similarly, if Remote Node Address is present, <lb/>the Remote Interface ID MUST be present as well. <lb/>o The SID is optional and specifies an SRv6 SID in the form of 16 <lb/>octet IPv6 address. <lb/>o If length is 22, then the Local Interface ID, Local IPv6 Node <lb/>Address, are present. <lb/>o If length is 38, then the Local Interface ID, Local IPv6 Node <lb/>Address and the SRv6 SID are present. <lb/>o If length is 42, then the Local Interface ID, Local IPv6 Node <lb/>Address, Remote Interface ID, and the Remote IPv6 Node Address are <lb/>present. <lb/>o If length is 58, then the Local Interface ID, Local IPv6 Node <lb/>Address, Remote Interface ID, Remote IPv6 Node Address and the <lb/>SRv6 SID are present. <lb/>2.4.3.2.11. Type 11: IPv6 Local and Remote addresses for SRv6 with <lb/>optional SID <lb/>The Type-11 Segment Sub-TLV encodes an adjacency local address, an <lb/>adjacency remote address and an optional SID in the form of IPv6 <lb/>address. The format is as follows: <lb/>0 <lb/>1 <lb/>2 <lb/>3 <lb/>0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 <lb/>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ <lb/>| <lb/>Type <lb/>| <lb/>Length <lb/>| <lb/>Flags <lb/>| <lb/>RESERVED <lb/>| <lb/>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ <lb/>// <lb/>Local IPv6 Address (16 octets) <lb/>// <lb/>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ <lb/>// <lb/>Remote IPv6 Address (16 octets) <lb/>// <lb/>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ <lb/>// <lb/>SID (optional, 16 octets) <lb/>// <lb/>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ <lb/>where: <lb/></body>

			<note place="footnote">Previdi, et al. <lb/>Expires January 6, 2020 <lb/></note>

			<page>[Page 25] <lb/></page>

			<note place="headnote">Internet-Draft <lb/>Segment Routing Policies in BGP <lb/>July 2019 <lb/></note>

			<body>o Type: 12 (to be assigned by IANA from the registry &quot;SR Policy List <lb/>Sub-TLVs&quot; defined in this document). <lb/>o Length is 34 or 50. <lb/>o Flags: 1 octet of flags as defined in Section 2.4.3.2.12. <lb/>o RESERVED: 1 octet of reserved bits. SHOULD be unset on <lb/>transmission and MUST be ignored on receipt. <lb/>o Local IPv6 Address: a 16 octet IPv6 address. <lb/>o Remote IPv6 Address: a 16 octet IPv6 address. <lb/>o SID: 16 octet IPv6 address. <lb/>The following applies to the Type-11 Segment sub-TLV: <lb/>o The Local IPv6 Node Address MUST be present. <lb/>o The Remote IPv6 Node Address MUST be present. <lb/>o The SID is optional and specifies an SRv6 SID in the form of 16 <lb/>octet IPv6 address. <lb/>o If length is 34, then the Local IPv6 Node Address and the Remote <lb/>IPv6 Node Address are present. <lb/>o If length is 50, then the Local IPv6 Node Address, the Remote IPv6 <lb/>Node Address and the SRv6 SID are present. <lb/>2.4.3.2.12. Segment Flags <lb/>The Segment Types described above MAY contain following flags in the <lb/>&quot;Flags&quot; field (codes to be assigned by IANA from the registry &quot;SR <lb/>Policy Segment Flags&quot; defined in this document Section 8.6): <lb/>0 1 2 3 4 5 6 7 <lb/>+-+-+-+-+-+-+-+-+ <lb/>|V|A| <lb/>| <lb/>+-+-+-+-+-+-+-+-+ <lb/>where: <lb/>V-Flag: This flag is used by SRPM for the purpose of &quot;SID <lb/>verification&quot; as described in Section 5.1 in <lb/>[I-D.ietf-spring-segment-routing-policy]. <lb/></body>

			<note place="footnote">Previdi, et al. <lb/>Expires January 6, 2020 <lb/></note>

			<page>[Page 26] <lb/></page>

			<note place="headnote">Internet-Draft <lb/>Segment Routing Policies in BGP <lb/>July 2019 <lb/></note>

			<body>A-Flag: This flag indicates the presence of SR Algorithm id in the <lb/>&quot;SR Algorithm&quot; field applicable to various Segment Types. SR <lb/>Algorithm is used by SRPM as described in section 4 in <lb/>[I-D.ietf-spring-segment-routing-policy]. <lb/>Unused bits in the Flag octet SHOULD be set to zero upon <lb/>transmission and MUST be ignored upon receipt. <lb/>The following applies to the Segment Flags: <lb/>o V-Flag is applicable to all Segment Types. <lb/>o A-Flag is applicable to Segment Types 3, 4 and 9. If A-Flag <lb/>appears with any other Segment Type, it MUST be ignored. <lb/>2.4.4. Explicit NULL Label Policy Sub-TLV <lb/>In order to steer an unlabeled IP packet into an SR policy, it is <lb/>necessary to create a label stack for that packet, and to push one or <lb/>more labels onto that stack. <lb/>The Explicit NULL Label Policy (ENLP) sub-TLV is used to indicate <lb/>whether an Explicit NULL Label [RFC3032] must be pushed on an <lb/>unlabeled IP packet before any other labels. <lb/>If an ENLP Sub-TLV is not present, the decision of whether to push an <lb/>Explicit NULL label on a given packet is a matter of local <lb/>configuration. <lb/>The ENLP sub-TLV is optional and it MUST NOT appear more than once in <lb/>the SR Policy. If the ENLP sub-TLV appears more than once, the <lb/>update is considered malformed and the &quot;treat-as-withdraw&quot; strategy <lb/>of [RFC7606] is applied. <lb/>The contents of this sub-TLV are used by the SRPM as described in <lb/>section 4.1 in [I-D.ietf-spring-segment-routing-policy]. <lb/>0 <lb/>1 <lb/>2 <lb/>3 <lb/>0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 <lb/>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ <lb/>| <lb/>Type <lb/>| <lb/>Length <lb/>| <lb/>Flags <lb/>| <lb/>RESERVED <lb/>| <lb/>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ <lb/>| <lb/>ENLP <lb/>| <lb/>+-+-+-+-+-+-+-+-+ <lb/>Where: <lb/></body>

			<note place="footnote">Previdi, et al. <lb/>Expires January 6, 2020 <lb/></note>

			<page>[Page 27] <lb/></page>

			<note place="headnote">Internet-Draft <lb/>Segment Routing Policies in BGP <lb/>July 2019 <lb/></note>

			<body>Type: TBD1 (to be assigned by IANA from the registry &quot;BGP Tunnel <lb/>Encapsulation Attribute sub-TLVs&quot; defined in this document <lb/>Section 8.3). <lb/>Length: 3. <lb/>Flags: 1 octet of flags. None are defined at this stage. Flags <lb/>SHOULD be set to zero on transmission and MUST be ignored on <lb/>receipt. <lb/>RESERVED: 1 octet of reserved bits. SHOULD be unset on <lb/>transmission and MUST be ignored on receipt. <lb/>ENLP(Explicit NULL Label Policy): Indicates whether Explicit NULL <lb/>labels are to be pushed on unlabeled IP packets that are being <lb/>steered into a given SR policy. This field has one of the <lb/>following 4 values: <lb/>0: Reserved. <lb/>1: Push an IPv4 Explicit NULL label on an unlabeled IPv4 <lb/>packet, but do not push an IPv6 Explicit NULL label on an <lb/>unlabeled IPv6 packet. <lb/>2: Push an IPv6 Explicit NULL label on an unlabeled IPv6 <lb/>packet, but do not push an IPv4 Explicit NULL label on an <lb/>unlabeled IPv4 packet. <lb/>3: Push an IPv4 Explicit NULL label on an unlabeled IPv4 <lb/>packet, and push an IPv6 Explicit NULL label on an unlabeled <lb/>IPv6 packet. <lb/>4: Do not push an Explicit NULL label. <lb/>5 -255: Reserved. <lb/>The ENLP reserved values may be used for future extensions and <lb/>implementations SHOULD ignore the ENLP Sub-TLV with these values. <lb/>The policy signaled in this Sub-TLV MAY be overridden by local <lb/>configuration. The section 4.1 of <lb/>[I-D.ietf-spring-segment-routing-policy] draft describes the <lb/>behavior on the headend for handling of explicit null label. <lb/></body>

			<note place="footnote">Previdi, et al. <lb/>Expires January 6, 2020 <lb/></note>

			<page>[Page 28] <lb/></page>

			<note place="headnote">Internet-Draft <lb/>Segment Routing Policies in BGP <lb/>July 2019 <lb/></note>

			<body>2.4.5. Policy Priority Sub-TLV <lb/>An operator MAY set the Policy Priority sub-TLV to indicate the order <lb/>in which the SR policies are re-computed upon topological change. <lb/>The Priority sub-TLV does not have any effect on the BGP bestpath <lb/>selection or propagation procedures. The contents of this sub-TLV <lb/>are used by the SRPM as described in section 2.11 in <lb/>[I-D.ietf-spring-segment-routing-policy]. <lb/>The Priority sub-TLV is optional and it MUST NOT appear more than <lb/>once in the SR Policy TLV. If the Priority sub-TLV appears more than <lb/>once, the update is considered malformed and the &quot;treat-as-withdraw&quot; <lb/>strategy of [RFC7606] is applied. <lb/>The Priority sub-TLV has following format: <lb/>0 <lb/>1 <lb/>2 <lb/>3 <lb/>0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 <lb/>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ <lb/>| <lb/>Type <lb/>| <lb/>Length <lb/>| Priority <lb/>| <lb/>RESERVED <lb/>| <lb/>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ <lb/>Where: <lb/>Type: TBD2 (to be assigned by IANA from the registry &quot;BGP Tunnel <lb/>Encapsulation Attribute sub-TLVs&quot; defined in this document <lb/>Section 8.3). <lb/>Length: 2. <lb/>Priority: a 1-octet value. <lb/>RESERVED: 1 octet of reserved bits. SHOULD be unset on <lb/>transmission and MUST be ignored on receipt. <lb/>2.4.6. Policy Name Sub-TLV <lb/>An operator MAY set the Policy Name sub-TLV to attach a symbolic name <lb/>to the SR Policy candidate path. <lb/>Usage of Policy Name sub-TLV is described in section 2 in <lb/>[I-D.ietf-spring-segment-routing-policy]. <lb/>The Policy Name sub-TLV may exceed 255 bytes length due to long <lb/>policy name. Therefore a 2-octet length is required. According to <lb/>[I-D.ietf-idr-tunnel-encaps], the first bit of the sub-TLV codepoint <lb/>defines the size of the length field. Therefore, for the Policy Name <lb/></body>

			<note place="footnote">Previdi, et al. <lb/>Expires January 6, 2020 <lb/></note>

			<page>[Page 29] <lb/></page>

			<note place="headnote">Internet-Draft <lb/>Segment Routing Policies in BGP <lb/>July 2019 <lb/></note>

			<body>sub-TLV a code point of 128 (or higher) is used. See Section 8 for <lb/>details of codepoints allocation. <lb/>The Policy Name sub-TLV is optional and it MUST NOT appear more than <lb/>once in the SR Policy TLV. If the Policy Name sub-TLV appears more <lb/>than once, the update is considered malformed and the &quot;treat-as-<lb/>withdraw&quot; strategy of [RFC7606] is applied. <lb/>The Policy Name sub-TLV has following format: <lb/>0 <lb/>1 <lb/>2 <lb/>3 <lb/>0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 <lb/>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ <lb/>| <lb/>Type <lb/>| <lb/>Length <lb/>| <lb/>RESERVED <lb/>| <lb/>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ <lb/>// <lb/>Policy Name <lb/>// <lb/>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ <lb/>Where: <lb/>Type: TBD3 (to be assigned by IANA from the registry &quot;BGP Tunnel <lb/>Encapsulation Attribute sub-TLVs&quot; defined in this document <lb/>Section 8.3). <lb/>Length: Variable. <lb/>RESERVED: 1 octet of reserved bits. SHOULD be unset on <lb/>transmission and MUST be ignored on receipt. <lb/>Policy Name: Symbolic name for the policy. It SHOULD be a string <lb/>of printable ASCII characters, without a NULL terminator. <lb/>3. Extended Color Community <lb/>The Color Extended Community as defined in <lb/>[I-D.ietf-idr-tunnel-encaps] is used to steer traffic into a policy. <lb/>When the Color Extended Community is used for the purpose of steering <lb/>the traffic into an SR Policy, the RESERVED field (as defined in <lb/>[I-D.ietf-idr-tunnel-encaps] is changed as follows: <lb/>1 <lb/>0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 <lb/>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ <lb/>|C O| <lb/>RESERVED <lb/>| <lb/>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ <lb/></body>

			<note place="footnote">Previdi, et al. <lb/>Expires January 6, 2020 <lb/></note>

			<page>[Page 30] <lb/></page>

			<note place="headnote">Internet-Draft <lb/>Segment Routing Policies in BGP <lb/>July 2019 <lb/></note>

			<body>where CO bits are defined as the &quot;Color-Only&quot; bits. <lb/>[I-D.ietf-spring-segment-routing-policy] defines the influence of <lb/>these bits on the automated steering of BGP Payload traffic onto SR <lb/>Policies. <lb/>4. SR Policy Operations <lb/>As described in this document, the consumer of an SR Policy NLRI is <lb/>not the BGP process. The BGP process is in charge of the origination <lb/>and propagation of the SR Policy NLRI but its installation and use is <lb/>outside the scope of BGP. The details of SR Policy installation and <lb/>use can be referred from [I-D.ietf-spring-segment-routing-policy]. <lb/>4.1. Configuration and Advertisement of SR Policies <lb/>Typically, but not limited to, an SR Policy is configured into a <lb/>controller. <lb/>Multiple SR Policy NLRIs may be present with the same &lt;color, <lb/>endpoint&gt; tuple but with different content when these SR policies are <lb/>intended to different head-ends. <lb/>The distinguisher of each SR Policy NLRI prevents undesired BGP route <lb/>selection among these SR Policy NLRIs and allow their propagation <lb/>across route reflectors [RFC4456]. <lb/>Moreover, one or more route-target SHOULD be attached to the <lb/>advertisement, where each route-target identifies one or more <lb/>intended head-ends for the advertised SR policy. <lb/>If no route-target is attached to the SR Policy NLRI, then it is <lb/>assumed that the originator sends the SR Policy update directly <lb/>(e.g., through a BGP session) to the intended receiver. In such <lb/>case, the NO_ADVERTISE community MUST be attached to the SR Policy <lb/>update. <lb/>4.2. Reception of an SR Policy NLRI <lb/>On reception of an SR Policy NLRI, a BGP speaker MUST determine if <lb/>it&apos;s first acceptable, then it determines if it is usable. <lb/>4.2.1. Acceptance of an SR Policy NLRI <lb/>When a BGP speaker receives an SR Policy NLRI from a neighbor it has <lb/>to determine if it&apos;s acceptable. The following applies: <lb/>o The SR Policy NLRI MUST include a distinguisher, color and <lb/>endpoint field which implies that the length of the NLRI MUST be <lb/></body>

			<note place="footnote">Previdi, et al. <lb/>Expires January 6, 2020 <lb/></note>

			<page>[Page 31] <lb/></page>

			<note place="headnote">Internet-Draft <lb/>Segment Routing Policies in BGP <lb/>July 2019 <lb/></note>

			<body>either 12 or 24 octets (depending on the address family of the <lb/>endpoint). <lb/>o The SR Policy update MUST have either the NO_ADVERTISE community <lb/>or at least one route-target extended community in IPv4-address <lb/>format. If a router supporting this document receives an SR <lb/>policy update with no route-target extended communities and no <lb/>NO_ADVERTISE community, the update MUST NOT be sent to the SRPM. <lb/>Furthermore, it SHOULD be considered to be malformed, and the <lb/>&quot;treat-as-withdraw&quot; strategy of [RFC7606] is applied. <lb/>o The Tunnel Encapsulation Attribute MUST be attached to the BGP <lb/>Update and MUST have a Tunnel Type TLV set to SR Policy ( <lb/>codepoint is 15, assigned by IANA (see Section 8) from the &quot;BGP <lb/>Tunnel Encapsulation Attribute Tunnel Types&quot; registry). <lb/>A router that receives an SR Policy update that is not valid <lb/>according to these criteria MUST treat the update as malformed. The <lb/>route MUST NOT be passed to the SRPM, and the &quot;treat-as-withdraw&quot; <lb/>strategy of [RFC7606] is applied. <lb/>A unacceptable SR Policy update that has a valid NLRI portion with <lb/>invalid attribute portion MUST be considered as a withdraw of the SR <lb/>Policy. <lb/>4.2.2. Usable SR Policy NLRI <lb/>If one or more route-targets are present, then at least one route-<lb/>target MUST match one of the BGP Identifiers of the receiver in order <lb/>for the update to be considered usable. The BGP Identifier is <lb/>defined in [RFC4271] as a 4 octet IPv4 address. Therefore the route-<lb/>target extended community MUST be of the same format. <lb/>If one or more route-targets are present and no one matches any of <lb/>the local BGP Identifiers, then, while the SR Policy NLRI is <lb/>acceptable, it is not usable on the receiver node. It has to be <lb/>noted that if the receiver has been explicitly configured to do so, <lb/>it MAY propagate the SR Policy NLRI to its neighbors as defined in <lb/>Section 4.2.4. <lb/>The SR Policy candidate paths encoded by the usable SR Policy NLRIs <lb/>are sent to the SRPM. <lb/>4.2.3. Passing a usable SR Policy NLRI to the SRPM <lb/>Once BGP has determined that the SR Policy NLRI is usable, BGP passes <lb/>the SR Policy candidate path to the SRPM. Note that, along with the <lb/>candidate path details, BGP also passes the originator information <lb/></body>

			<note place="footnote">Previdi, et al. <lb/>Expires January 6, 2020 <lb/></note>

			<page>[Page 32] <lb/></page>

			<note place="headnote">Internet-Draft <lb/>Segment Routing Policies in BGP <lb/>July 2019 <lb/></note>

			<body>for breaking ties in the path-selection process as described in <lb/>section 2.4 in [I-D.ietf-spring-segment-routing-policy]. <lb/>The SRPM applies the rules defined in section 2 in <lb/>[I-D.ietf-spring-segment-routing-policy] to determine whether the SR <lb/>Policy candidate path is valid and to select the best candidate path <lb/>among the valid SR Policy candidate paths. <lb/>4.2.4. Propagation of an SR Policy <lb/>By default, a BGP node receiving an SR Policy NLRI MUST NOT propagate <lb/>it to any EBGP neighbor. <lb/>However, a node MAY be explicitly configured to advertise a received <lb/>SR Policy NLRI to neighbors according to normal BGP rules (i.e., EBGP <lb/>propagation by an ASBR or iBGP propagation by a Route-Reflector). <lb/>SR Policy NLRIs that have been determined acceptable and valid can be <lb/>propagated, even the ones that are not usable. <lb/>Only SR Policy NLRIs that do not have the NO_ADVERTISE community <lb/>attached to them can be propagated. <lb/>4.3. Flowspec and SR Policies <lb/>The SR Policy can be carried in context of a Flowspec NLRI <lb/>([RFC5575]). In this case, when the redirect to IP next-hop is <lb/>specified as in [I-D.ietf-idr-flowspec-redirect-ip], the tunnel to <lb/>the next-hop is specified by the segment list in the Segment List <lb/>sub-TLVs. The Segment List (e.g., label stack or IPv6 segment list) <lb/>is imposed to flows matching the criteria in the Flowspec route to <lb/>steer them towards the next-hop as specified in the SR Policy SAFI <lb/>NLRI. <lb/>5. Contributors <lb/>Kausik Majumdar <lb/>Cisco Systems <lb/>US <lb/>Email: kmajumda@cisco.com <lb/>Zafar Ali <lb/>Cisco Systems <lb/>US <lb/>Email: zali@cisco.com <lb/></body>

			<note place="footnote">Previdi, et al. <lb/>Expires January 6, 2020 <lb/></note>

			<page>[Page 33] <lb/></page>

			<note place="headnote">Internet-Draft <lb/>Segment Routing Policies in BGP <lb/>July 2019 <lb/></note>

			<body>Arjun Sreekantiah <lb/>Cisco Systems <lb/>US <lb/>Email: asreekan@cisco.com <lb/>Acee Lindem <lb/>Cisco Systems <lb/>US <lb/>Email: acee@cisco.com <lb/>Siva Sivabalan <lb/>Cisco Systems <lb/>US <lb/>Email: msiva@cisco.com <lb/>Imtiyaz Mohammad <lb/>Arista Networks <lb/>India <lb/>Email: imtiyaz@arista.com <lb/>Gaurav Dawra <lb/>Cisco Systems <lb/>US <lb/>Email: gdawra.ietf@gmail.com <lb/></body>

			<div type="acknowledgement">6. Acknowledgments <lb/>The authors of this document would like to thank Shyam Sethuram, John <lb/>Scudder, Przemyslaw Krol, Alex Bogdanov, Nandan Saha and Ketan <lb/>Talaulikar for their comments and review of this document. <lb/></div>

			<body>7. Implementation Status<lb/>	Note to RFC Editor: Please remove this section prior to publication,<lb/> as well as the reference to RFC 7942.<lb/> This section records the status of known implementations of the<lb/> protocol defined by this specification at the time of posting of this<lb/> Internet-Draft, and is based on a proposal described in [RFC7942].<lb/> The description of implementations in this section is intended to<lb/> assist the IETF in its decision processes in progressing drafts to<lb/> RFCs. Please note that the listing of any individual implementation<lb/> here does not imply endorsement by the IETF. Furthermore, no effort <lb/> </body>	

			<note place="footnote">Previdi, et al. <lb/>Expires January 6, 2020 <lb/></note>

			<page>[Page 34] <lb/></page>

			<note place="headnote">Internet-Draft <lb/>Segment Routing Policies in BGP <lb/>July 2019 <lb/></note>

			<body>has been spent to verify the information presented here that was <lb/>supplied by IETF contributors. This is not intended as, and must not <lb/>be construed to be, a catalog of available implementations or their <lb/>features. Readers are advised to note that other implementations may <lb/>exist. <lb/>According to [RFC7942], &quot;this will allow reviewers and working groups <lb/>to assign due consideration to documents that have the benefit of <lb/>running code, which may serve as evidence of valuable experimentation <lb/>and feedback that have made the implemented protocols more mature. <lb/>It is up to the individual working groups to use this information as <lb/>they see fit&quot;. <lb/>Several early implementations exist and will be reported in detail in <lb/>a forthcoming version of this document. For purposes of early <lb/>interoperability testing, when no FCFS code point was available, <lb/>implementations have made use of the following values: <lb/>o Preference sub-TLV: 12 <lb/>o Binding SID sub-TLV: 13 <lb/>o Segment List sub-TLV: 128 <lb/>When IANA-assigned values are available, implementations will be <lb/>updated to use them. <lb/>8. IANA Considerations <lb/>This document defines new Sub-TLVs in following existing registries: <lb/>o Subsequent Address Family Identifiers (SAFI) Parameters <lb/>o BGP Tunnel Encapsulation Attribute Tunnel Types <lb/>o BGP Tunnel Encapsulation Attribute sub-TLVs <lb/>This document also defines following new registries: <lb/>o SR Policy List Sub-TLVs <lb/>o SR Policy Binding SID Flags <lb/>o SR Policy Segment Flags <lb/></body>

			<note place="footnote">Previdi, et al. <lb/>Expires January 6, 2020 <lb/></note>

			<page>[Page 35] <lb/></page>

			<note place="headnote">Internet-Draft <lb/>Segment Routing Policies in BGP <lb/>July 2019 <lb/></note>

			<body>8.1. Existing Registry: Subsequent Address Family Identifiers (SAFI)<lb/> Parameters<lb/> This document defines a new SAFI in the registry "Subsequent Address<lb/> Family Identifiers (SAFI) Parameters" that has been assigned by IANA:<lb/> Codepoint<lb/> Description<lb/> Reference<lb/> -----------------------------------------------<lb/> 73<lb/> SR Policy SAFI<lb/> This document<lb/> 8.2. Existing Registry: BGP Tunnel Encapsulation Attribute Tunnel Types<lb/> This document defines a new Tunnel-Type in the registry "BGP Tunnel<lb/> Encapsulation Attribute Tunnel Types" that has been assigned by IANA:<lb/> Codepoint<lb/> Description<lb/> Reference<lb/> --------------------------------------------------<lb/> 15 SR Policy Type<lb/> This document<lb/> 8.3. Existing Registry: BGP Tunnel Encapsulation Attribute sub-TLVs<lb/> This document defines new sub-TLVs in the registry "BGP Tunnel<lb/> Encapsulation Attribute sub-TLVs" to be assigned by IANA:<lb/> Codepoint<lb/> Description<lb/> Reference<lb/>  ------------------------------------------------------<lb/> 12<lb/> Preference sub-TLV<lb/> This document<lb/> 13<lb/> Binding SID sub-TLV<lb/> This document<lb/> 128<lb/> Segment List sub-TLV<lb/> This document<lb/> TBD1<lb/> ENLP sub-TLV<lb/> This document<lb/> TBD2<lb/> Priority sub-TLV<lb/> This document<lb/> TBD3<lb/> Policy Name sub-TLV<lb/> This document<lb/> 8.4. New Registry: SR Policy List Sub-TLVs<lb/> This document defines a new registry called "SR Policy List Sub-<lb/> TLVs". The allocation policy of this registry is "First Come First<lb/> Served (FCFS)" according to [RFC8126].<lb/> Following Sub-TLV codepoints are defined:<lb/></body>

			<note place="footnote">Previdi, et al. <lb/>Expires January 6, 2020 <lb/></note>

			<page>[Page 36] <lb/></page>

			<note place="headnote">Internet-Draft <lb/>Segment Routing Policies in BGP <lb/>July 2019 <lb/></note>

			<body>Value <lb/>Description <lb/>Reference <lb/>---------------------------------------------------------------------------------<lb/>1 <lb/>MPLS SID sub-TLV <lb/>This document <lb/>2 <lb/>SRv6 SID sub-TLV <lb/>This document <lb/>3 <lb/>IPv4 Node and SID sub-TLV <lb/>This document <lb/>4 <lb/>IPv6 Node and SID for SR-MPLS sub-TLV <lb/>This document <lb/>5 <lb/>IPv4 Node, index and SID sub-TLV <lb/>This document <lb/>6 <lb/>IPv4 Local/Remote addresses and SID sub-TLV This document <lb/>7 <lb/>IPv6 Node, index for remote and local pair This document <lb/>and SID for SR-MPLS sub-TLV <lb/>8 <lb/>IPv6 Local/Remote addresses and SID sub-TLV This document <lb/>9 <lb/>Weight sub-TLV <lb/>This document <lb/>10 <lb/>IPv6 Node and SID for SRv6 sub-TLV <lb/>This document <lb/>11 <lb/>IPv6 Node, index for remote and local pair This document <lb/>and SID for SRv6 sub-TLV <lb/>12 <lb/>IPv6 Local/Remote addresses and SID for <lb/>This document <lb/>SRv6 sub-TLV <lb/>8.5. New Registry: SR Policy Binding SID Flags <lb/>This document defines a new registry called &quot;SR Policy Binding SID <lb/>Flags&quot;. The allocation policy of this registry is &quot;First Come First <lb/>Served (FCFS)&quot; according to [RFC8126]. <lb/>Following Flags are defined: <lb/>Bit <lb/>Description <lb/>Reference <lb/>---------------------------------------------------------------------------------<lb/>0 <lb/>Specified-BSID-Only Flag (S-Flag) <lb/>This document <lb/>1 <lb/>Drop Upon Invalid Flag (I-Flag) <lb/>This document <lb/>2-7 <lb/>Unassigned <lb/>8.6. New Registry: SR Policy Segment Flags <lb/>This document defines a new registry called &quot;SR Policy Segment <lb/>Flags&quot;. The allocation policy of this registry is &quot;First Come First <lb/>Served (FCFS)&quot; according to [RFC8126]. <lb/>Following Flags are defined: <lb/>Bit <lb/>Description <lb/>Reference <lb/>---------------------------------------------------------------------------------<lb/>0 <lb/>Segment Verification Flag (V-Flag) <lb/>This document <lb/>1 <lb/>SR Algorithm Flag (A-Flag) <lb/>This document <lb/>2-7 <lb/>Unassigned <lb/></body>

			<note place="footnote">Previdi, et al. <lb/>Expires January 6, 2020 <lb/></note>

			<page>[Page 37] <lb/></page>

			<note place="headnote">Internet-Draft <lb/>Segment Routing Policies in BGP <lb/>July 2019 <lb/></note>

			<body>9. Security Considerations <lb/>TBD. <lb/></body>

			<listBibl>10. References <lb/>10.1. Normative References <lb/>[I-D.ietf-idr-tunnel-encaps] <lb/>Patel, K., Velde, G., Ramachandra, S., and E. Rosen, &quot;The <lb/>BGP Tunnel Encapsulation Attribute&quot;, draft-ietf-idr-<lb/>tunnel-encaps-12 (work in progress), May 2019. <lb/>[I-D.ietf-pce-segment-routing] <lb/>Sivabalan, S., Filsfils, C., Tantsura, J., Henderickx, W., <lb/>and J. Hardwick, &quot;PCEP Extensions for Segment Routing&quot;, <lb/>draft-ietf-pce-segment-routing-16 (work in progress), <lb/>March 2019. <lb/>[I-D.ietf-spring-segment-routing] <lb/>Filsfils, C., Previdi, S., Ginsberg, L., Decraene, B., <lb/>Litkowski, S., and R. Shakir, &quot;Segment Routing <lb/>Architecture&quot;, draft-ietf-spring-segment-routing-15 (work <lb/>in progress), January 2018. <lb/>[I-D.ietf-spring-segment-routing-policy] <lb/>Filsfils, C., Sivabalan, S., daniel.voyer@bell.ca, d., <lb/>bogdanov@google.com, b., and P. Mattes, &quot;Segment Routing <lb/>Policy Architecture&quot;, draft-ietf-spring-segment-routing-<lb/>policy-03 (work in progress), May 2019. <lb/>[RFC2119] Bradner, S., &quot;Key words for use in RFCs to Indicate <lb/>Requirement Levels&quot;, BCP 14, RFC 2119, <lb/>DOI 10.17487/RFC2119, March 1997, <lb/>&lt;https://www.rfc-editor.org/info/rfc2119&gt;. <lb/>[RFC3032] Rosen, E., Tappan, D., Fedorkow, G., Rekhter, Y., <lb/>Farinacci, D., Li, T., and A. Conta, &quot;MPLS Label Stack <lb/>Encoding&quot;, RFC 3032, DOI 10.17487/RFC3032, January 2001, <lb/>&lt;https://www.rfc-editor.org/info/rfc3032&gt;. <lb/>[RFC4271] Rekhter, Y., Ed., Li, T., Ed., and S. Hares, Ed., &quot;A <lb/>Border Gateway Protocol 4 (BGP-4)&quot;, RFC 4271, <lb/>DOI 10.17487/RFC4271, January 2006, <lb/>&lt;https://www.rfc-editor.org/info/rfc4271&gt;. <lb/></listBibl>

			<note place="footnote">Previdi, et al. <lb/>Expires January 6, 2020 <lb/></note>

			<page>[Page 38] <lb/></page>

			<note place="headnote">Internet-Draft <lb/>Segment Routing Policies in BGP <lb/>July 2019 <lb/></note>

			<listBibl>[RFC4360] Sangli, S., Tappan, D., and Y. Rekhter, &quot;BGP Extended <lb/>Communities Attribute&quot;, RFC 4360, DOI 10.17487/RFC4360, <lb/>February 2006, &lt;https://www.rfc-editor.org/info/rfc4360&gt;. <lb/>[RFC4760] Bates, T., Chandra, R., Katz, D., and Y. Rekhter, <lb/>&quot;Multiprotocol Extensions for BGP-4&quot;, RFC 4760, <lb/>DOI 10.17487/RFC4760, January 2007, <lb/>&lt;https://www.rfc-editor.org/info/rfc4760&gt;. <lb/>[RFC5575] Marques, P., Sheth, N., Raszuk, R., Greene, B., Mauch, J., <lb/>and D. McPherson, &quot;Dissemination of Flow Specification <lb/>Rules&quot;, RFC 5575, DOI 10.17487/RFC5575, August 2009, <lb/>&lt;https://www.rfc-editor.org/info/rfc5575&gt;. <lb/>[RFC7606] Chen, E., Ed., Scudder, J., Ed., Mohapatra, P., and K. <lb/>Patel, &quot;Revised Error Handling for BGP UPDATE Messages&quot;, <lb/>RFC 7606, DOI 10.17487/RFC7606, August 2015, <lb/>&lt;https://www.rfc-editor.org/info/rfc7606&gt;. <lb/>[RFC8126] Cotton, M., Leiba, B., and T. Narten, &quot;Guidelines for <lb/>Writing an IANA Considerations Section in RFCs&quot;, BCP 26, <lb/>RFC 8126, DOI 10.17487/RFC8126, June 2017, <lb/>&lt;https://www.rfc-editor.org/info/rfc8126&gt;. <lb/>10.2. Informational References <lb/>[I-D.filsfils-spring-sr-policy-considerations] <lb/>Filsfils, C., Talaulikar, K., Krol, P., Horneffer, M., and <lb/>P. Mattes, &quot;SR Policy Implementation and Deployment <lb/>Considerations&quot;, draft-filsfils-spring-sr-policy-<lb/>considerations-03 (work in progress), April 2019. <lb/>[I-D.ietf-6man-segment-routing-header] <lb/>Filsfils, C., Dukes, D., Previdi, S., Leddy, J., <lb/>Matsushima, S., and d. daniel.voyer@bell.ca, &quot;IPv6 Segment <lb/>Routing Header (SRH)&quot;, draft-ietf-6man-segment-routing-<lb/>header-21 (work in progress), June 2019. <lb/>[I-D.ietf-idr-flowspec-redirect-ip] <lb/>Uttaro, J., Haas, J., Texier, M., Andy, A., Ray, S., <lb/>Simpson, A., and W. Henderickx, &quot;BGP Flow-Spec Redirect to <lb/>IP Action&quot;, draft-ietf-idr-flowspec-redirect-ip-02 (work <lb/>in progress), February 2015. <lb/>[RFC4456] Bates, T., Chen, E., and R. Chandra, &quot;BGP Route <lb/>Reflection: An Alternative to Full Mesh Internal BGP <lb/>(IBGP)&quot;, RFC 4456, DOI 10.17487/RFC4456, April 2006, <lb/>&lt;https://www.rfc-editor.org/info/rfc4456&gt;. <lb/></listBibl>

			<note place="footnote">Previdi, et al. <lb/>Expires January 6, 2020 <lb/></note>

			<page>[Page 39] <lb/></page>

			<note place="headnote">Internet-Draft <lb/>Segment Routing Policies in BGP <lb/>July 2019 <lb/></note>

			<listBibl>[RFC7942] Sheffer, Y. and A. Farrel, &quot;Improving Awareness of Running <lb/>Code: The Implementation Status Section&quot;, BCP 205, <lb/>RFC 7942, DOI 10.17487/RFC7942, July 2016, <lb/>&lt;https://www.rfc-editor.org/info/rfc7942&gt;. <lb/></listBibl>

			Authors&apos; Addresses <lb/>			

			<front>Stefano Previdi <lb/>Individual <lb/>IT <lb/>Email: stefano@previdi.net <lb/>Clarence Filsfils <lb/>Cisco Systems, Inc. <lb/>Brussels <lb/>BE <lb/>Email: cfilsfil@cisco.com <lb/>Paul Mattes <lb/>Microsoft <lb/>One Microsoft Way <lb/>Redmond, WA 98052 <lb/>USA <lb/>Email: pamattes@microsoft.com <lb/>Eric Rosen <lb/>Juniper Networks <lb/>10 Technology Park Drive <lb/>Westford, MA 01886 <lb/>US <lb/>Email: erosen@juniper.net <lb/>Dhanendra Jain <lb/>Google <lb/>Email: dhanendra.ietf@gmail.com <lb/></front>

			<note place="footnote">Previdi, et al. <lb/>Expires January 6, 2020 <lb/></note>

			<page>[Page 40] <lb/></page>

			<note place="headnote">Internet-Draft <lb/>Segment Routing Policies in BGP <lb/>July 2019 <lb/></note>

			<front>Steven Lin <lb/>Google <lb/>Email: stevenlin@google.com <lb/></front>

			<note place="footnote">Previdi, et al. <lb/>Expires January 6, 2020 <lb/></note>

			<page>[Page 41] </page>


	</text>
</tei>
