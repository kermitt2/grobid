<?xml version="1.0" ?>
<tei xml:space="preserve">
	<teiHeader>
		<fileDesc xml:id="0"/>
	</teiHeader>
	<text xml:lang="en">
			<front>server date 20190808; downloaded by EPO on 20190809 <lb/>Network Work group <lb/>N. Nainar <lb/>Internet-Draft <lb/>C. Pignataro <lb/>Updates: 8287 (if approved) <lb/>Cisco Systems, Inc. <lb/>Intended status: Standards Track <lb/>F. Iqbal <lb/>Expires: February 9, 2020 <lb/>Individual <lb/>A. Vainshtein <lb/>ECI Telecom <lb/>August 8, 2019 <lb/>RFC8287 Sub-TLV Length Clarification <lb/>draft-ietf-mpls-rfc8287-len-clarification-03 <lb/>Abstract <lb/>RFC8287 defines the extensions to MPLS LSP Ping and Traceroute for <lb/>Segment Routing IGP-Prefix and IGP-Adjacency Segment Identifier <lb/>(SIDs) with an MPLS data plane. RFC8287 proposes 3 Target FEC Stack <lb/>Sub-TLVs. While the standard defines the format and procedure to <lb/>handle those Sub-TLVs, it does not sufficiently clarify how the <lb/>length of the Segment ID Sub-TLVs should be computed to include in <lb/>the Length field of the Sub-TLVs which may result in interoperability <lb/>issues. <lb/>This document updates RFC8287 by clarifying the length of each <lb/>Segment ID Sub-TLVs defined in RFC8287. <lb/>Status of This Memo <lb/>This Internet-Draft is submitted in full conformance with the <lb/>provisions of BCP 78 and BCP 79. <lb/>Internet-Drafts are working documents of the Internet Engineering <lb/>Task Force (IETF). Note that other groups may also distribute <lb/>working documents as Internet-Drafts. The list of current Internet-<lb/>Drafts is at https://datatracker.ietf.org/drafts/current/. <lb/>Internet-Drafts are draft documents valid for a maximum of six months <lb/>and may be updated, replaced, or obsoleted by other documents at any <lb/>time. It is inappropriate to use Internet-Drafts as reference <lb/>material or to cite them other than as &quot;work in progress.&quot; <lb/>This Internet-Draft will expire on February 9, 2020. <lb/> Nainar, et al. <lb/>Expires February 9, 2020 <lb/> [Page 1] <lb/> Internet-Draft <lb/>RFC8287 Sub-TLV Length Clarification <lb/>August 2019 <lb/> Copyright Notice <lb/>Copyright (c) 2019 IETF Trust and the persons identified as the <lb/>document authors. All rights reserved. <lb/>This document is subject to BCP 78 and the IETF Trust&apos;s Legal <lb/>Provisions Relating to IETF Documents <lb/>(https://trustee.ietf.org/license-info) in effect on the date of <lb/>publication of this document. Please review these documents <lb/>carefully, as they describe your rights and restrictions with respect <lb/>to this document. Code Components extracted from this document must <lb/>include Simplified BSD License text as described in Section 4.e of <lb/>the Trust Legal Provisions and are provided without warranty as <lb/>described in the Simplified BSD License. <lb/></front>

			<div type="toc">Table of Contents <lb/>1. Introduction . . . . . . . . . . . . . . . . . . . . . . . . <lb/>2 <lb/>2. Terminology . . . . . . . . . . . . . . . . . . . . . . . . . <lb/>3 <lb/>3. Requirements notation . . . . . . . . . . . . . . . . . . . . <lb/>3 <lb/>4. Length field clarification for Segment ID Sub-TLVs . . . . . <lb/>3 <lb/>4.1. IPv4 IGP-Prefix Segment ID Sub-TLV . . . . . . . . . . . <lb/>3 <lb/>4.2. IPv6 IGP-Prefix Segment ID Sub-TLV . . . . . . . . . . . <lb/>3 <lb/>4.3. IGP-Adjacency Segment ID Sub-TLV . . . . . . . . . . . . <lb/>4 <lb/>5. IANA Considerations . . . . . . . . . . . . . . . . . . . . . <lb/>5 <lb/>6. Security Considerations . . . . . . . . . . . . . . . . . . . <lb/>5 <lb/>7. Contributors . . . . . . . . . . . . . . . . . . . . . . . . <lb/>5 <lb/>8. Acknowledgement . . . . . . . . . . . . . . . . . . . . . . . <lb/>5 <lb/>9. Normative References . . . . . . . . . . . . . . . . . . . . <lb/>5 <lb/>Authors&apos; Addresses . . . . . . . . . . . . . . . . . . . . . . . <lb/>6 <lb/></div>

			<body>1. Introduction <lb/>[RFC8287] defines the extensions to MPLS LSP Ping and Traceroute for <lb/>Segment Routing IGP-Prefix and IGP-Adjacency Segment Identifier <lb/>(SIDs) with an MPLS data plane. [RFC8287] proposes 3 Target FEC <lb/>Stack Sub-TLVs. While the standard defines the format and procedure <lb/>to handle those Sub-TLVs, it does not sufficiently clarify how the <lb/>length of the Segment ID Sub-TLVs should be computed to include in <lb/>the Length field of the Sub-TLVs which may result in interoperability <lb/>issues. <lb/>This document updates [RFC8287] by clarifying the length of each <lb/>Segment ID Sub-TLVs defined in [RFC8287]. <lb/></body>

			<note place="footnote">Nainar, et al. <lb/>Expires February 9, 2020 <lb/></note>

			<page>[Page 2] <lb/></page>

			<note place="headnote">Internet-Draft <lb/>RFC8287 Sub-TLV Length Clarification <lb/>August 2019 <lb/></note>

			<body>2. Terminology <lb/>This document uses the terminologies defined in [RFC8402], [RFC8029], <lb/>[RFC8287] and so the readers are expected to be familiar with the <lb/>same. <lb/>3. Requirements notation <lb/>The key words &quot;MUST&quot;, &quot;MUST NOT&quot;, &quot;REQUIRED&quot;, &quot;SHALL&quot;, &quot;SHALL NOT&quot;, <lb/>&quot;SHOULD&quot;, &quot;SHOULD NOT&quot;, &quot;RECOMMENDED&quot;, &quot;MAY&quot;, and &quot;OPTIONAL&quot; in this <lb/>document are to be interpreted as described in [RFC2119] [RFC8174] <lb/>when, and only when, they appear in all capitals, as shown here. <lb/>4. Length field clarification for Segment ID Sub-TLVs <lb/>Section 5 of [RFC8287] defines 3 different Segment ID Sub-TLVs that <lb/>will be included in Target FEC Stack TLV defined in [RFC8029]. The <lb/>length of each Sub-TLVs MUST be calculated as defined in this <lb/>section. <lb/>The TLVs representation defined in section 5.1, 5.2 and 5.3 of <lb/>[RFC8287] are updated to clarify the length calculation as shown in <lb/>section 4.1, 4.2 and 4.3 respectively. The updated TLV <lb/>representation contain explicitly defined length. <lb/>4.1. IPv4 IGP-Prefix Segment ID Sub-TLV <lb/>The Sub-TLV length for IPv4 IGP-Prefix Segment ID MUST be set to 8 as <lb/>shown in the below TLV format: <lb/>0 <lb/>1 <lb/>2 <lb/>3 <lb/>0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 <lb/>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ <lb/>|Type = 34 (IPv4 IGP-Prefix SID)| <lb/>Length = 8 <lb/>| <lb/>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ <lb/>| <lb/>IPv4 prefix <lb/>| <lb/>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ <lb/>|Prefix Length | <lb/>Protocol <lb/>| <lb/>Reserved <lb/>| <lb/>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ <lb/>4.2. IPv6 IGP-Prefix Segment ID Sub-TLV <lb/>The Sub-TLV length for IPv6 IGP-Prefix Segment ID MUST be set to 20 <lb/>as shown in the below TLV format: <lb/></body>

			<note place="footnote">Nainar, et al. <lb/>Expires February 9, 2020 <lb/></note>

			<page>[Page 3] <lb/></page>

			<note place="headnote">Internet-Draft <lb/>RFC8287 Sub-TLV Length Clarification <lb/>August 2019 <lb/></note>

			<body>0 <lb/>1 <lb/>2 <lb/>3 <lb/>0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 <lb/>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ <lb/>|Type = 35 (IPv6 IGP-Prefix SID)| <lb/>Length = 20 <lb/>| <lb/>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ <lb/>| <lb/>| <lb/>| <lb/>| <lb/>| <lb/>IPv6 Prefix <lb/>| <lb/>| <lb/>| <lb/>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ <lb/>|Prefix Length | <lb/>Protocol <lb/>| <lb/>Reserved <lb/>| <lb/>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ <lb/>4.3. IGP-Adjacency Segment ID Sub-TLV <lb/>The Sub-TLV length for IGP-Adjacency Segment ID varies depending on <lb/>the Adjacency Type and Protocol. In any of the allowed combination <lb/>of Adjacency Type and Protocol, the sub-TLV length MUST be calculated <lb/>by including 2 octets of Reserved field. Table 1 below list the <lb/>length for different combinations of Adj.Type and Protocol. <lb/>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ <lb/>| Protocol <lb/>| <lb/>Length for Adj.Type <lb/>| <lb/>+ <lb/>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ <lb/>| <lb/>| Parallel | <lb/>IPv4 <lb/>| <lb/>IPv6 <lb/>| Unnumbered| <lb/>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ <lb/>| <lb/>OSPF <lb/>| <lb/>20 <lb/>| <lb/>20 <lb/>| <lb/>44 <lb/>| <lb/>20 <lb/>| <lb/>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ <lb/>| <lb/>ISIS <lb/>| <lb/>24 <lb/>| <lb/>24 <lb/>| <lb/>48 <lb/>| <lb/>24 <lb/>| <lb/>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ <lb/>| <lb/>Any <lb/>| <lb/>20 <lb/>| <lb/>20 <lb/>| <lb/>44 <lb/>| <lb/>20 <lb/>| <lb/>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ <lb/>Table 1. IGP-Adjacency SID Length Comparison <lb/>For example, when the Adj. Type is set to Parallel Adjacency and the <lb/>Protocol is set to 0, the Sub-TLV will be as below: <lb/></body>

			<note place="footnote">Nainar, et al. <lb/>Expires February 9, 2020 <lb/></note>

			<page>[Page 4] <lb/></page>

			<note place="headnote">Internet-Draft <lb/>RFC8287 Sub-TLV Length Clarification <lb/>August 2019 <lb/></note>

			<body>0 <lb/>1 <lb/>2 <lb/>3 <lb/>0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 <lb/>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ <lb/>|Type = 36 (IGP-Adjacency SID) | <lb/>Length = 20 <lb/>| <lb/>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ <lb/>| Adj. Type = 1 | Protocol = 0 | <lb/>Reserved <lb/>| <lb/>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ <lb/>| <lb/>Local Interface ID (4 octets) <lb/>| <lb/>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ <lb/>| <lb/>Remote Interface ID (4 octets) <lb/>| <lb/>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ <lb/>| <lb/>Advertising Node Identifier (4 octets) <lb/>| <lb/>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ <lb/>| <lb/>Receiving Node Identifier (4 octets) <lb/>| <lb/>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ <lb/>5. IANA Considerations <lb/>This document does not introduce any IANA consideration. <lb/>6. Security Considerations <lb/>This document updates [RFC8287] and does not introduce any additional <lb/>security considerations. <lb/>7. Contributors <lb/>The below individuals contributed to this document: <lb/>Zafar Ali, Cisco Systems, Inc. <lb/></body>

			<div type="acknowledgement">8. Acknowledgement <lb/>The authors would like to thank Michael Gorokhovsky and Manohar <lb/>Doppalapudi for investigating the interop issue during EANTC test. <lb/></div>

			<listBibl>9. Normative References <lb/>[RFC2119] Bradner, S., &quot;Key words for use in RFCs to Indicate <lb/>Requirement Levels&quot;, BCP 14, RFC 2119, <lb/>DOI 10.17487/RFC2119, March 1997, <lb/>&lt;https://www.rfc-editor.org/info/rfc2119&gt;. <lb/>[RFC8029] Kompella, K., Swallow, G., Pignataro, C., Ed., Kumar, N., <lb/>Aldrin, S., and M. Chen, &quot;Detecting Multiprotocol Label <lb/>Switched (MPLS) Data-Plane Failures&quot;, RFC 8029, <lb/>DOI 10.17487/RFC8029, March 2017, <lb/>&lt;https://www.rfc-editor.org/info/rfc8029&gt;. <lb/></listBibl>

			<note place="footnote">Nainar, et al. <lb/>Expires February 9, 2020 <lb/></note>

			<page>[Page 5] <lb/></page>

			<note place="headnote">Internet-Draft <lb/>RFC8287 Sub-TLV Length Clarification <lb/>August 2019 <lb/></note>

			<listBibl>[RFC8174] Leiba, B., &quot;Ambiguity of Uppercase vs Lowercase in RFC <lb/>2119 Key Words&quot;, BCP 14, RFC 8174, DOI 10.17487/RFC8174, <lb/>May 2017, &lt;https://www.rfc-editor.org/info/rfc8174&gt;. <lb/>[RFC8287] Kumar, N., Ed., Pignataro, C., Ed., Swallow, G., Akiya, <lb/>N., Kini, S., and M. Chen, &quot;Label Switched Path (LSP) <lb/>Ping/Traceroute for Segment Routing (SR) IGP-Prefix and <lb/>IGP-Adjacency Segment Identifiers (SIDs) with MPLS Data <lb/>Planes&quot;, RFC 8287, DOI 10.17487/RFC8287, December 2017, <lb/>&lt;https://www.rfc-editor.org/info/rfc8287&gt;. <lb/>[RFC8402] Filsfils, C., Ed., Previdi, S., Ed., Ginsberg, L., <lb/>Decraene, B., Litkowski, S., and R. Shakir, &quot;Segment <lb/>Routing Architecture&quot;, RFC 8402, DOI 10.17487/RFC8402, <lb/>July 2018, &lt;https://www.rfc-editor.org/info/rfc8402&gt;. <lb/></listBibl>

			Author&apos;s Address <lb/>	

			<front>Nagendra Kumar Nainar <lb/>Cisco Systems, Inc. <lb/>7200-12 Kit Creek Road <lb/>Research Triangle Park, NC 27709 <lb/>US <lb/>Email: naikumar@cisco.com <lb/>Carlos Pignataro <lb/>Cisco Systems, Inc. <lb/>7200-11 Kit Creek Road <lb/>Research Triangle Park, NC 27709 <lb/>US <lb/>Email: cpignata@cisco.com <lb/>Faisal Iqbal <lb/>Individual <lb/>Canada <lb/>Email: faisal.iqbal@msn.com <lb/>Alexander Vainshtein <lb/>ECI Telecom <lb/>Israel <lb/>Email: vainshtein.alex@gmail.com <lb/></front>

			<note place="footnote">Nainar, et al. <lb/>Expires February 9, 2020 <lb/></note>

			<page>[Page 6] </page>


	</text>
</tei>
