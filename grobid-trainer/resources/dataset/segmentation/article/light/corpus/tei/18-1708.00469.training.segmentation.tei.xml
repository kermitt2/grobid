<?xml version="1.0" ?>
<tei>
	<teiHeader>
		<fileDesc xml:id="_0"/>
	</teiHeader>
	<text xml:lang="en">
			<front>A Pattern Recognition Approach to Transistor Array Parameter Variance <lb/>Luciano da F. Costa, 1 Filipi N. Silva, 1 and Cesar H. Comin 1 <lb/>1 São Carlos Institute of Physics, University of São Paulo, São Carlos, SP, Brazil <lb/>The properties of bipolar junction transistors (BJTs) are known to vary in terms of their param-<lb/>eters. In this work, an experimental approach, including pattern recognition concepts and methods <lb/>such as principal component analysis (PCA) and linear discriminant analysis (LDA), was used to <lb/>experimentally investigate the variation among BJTs belonging to integrated circuits known as tran-<lb/>sistor arrays. It was shown that a good deal of the devices variance can be captured using only two <lb/>PCA axes. It was also verified that, though substantially small variation of parameters is observed <lb/>for BJT from the same array, larger variation arises between BJTs from distinct arrays, suggest-<lb/>ing the consideration of device characteristics in more critical analog designs. As a consequence <lb/>of its supervised nature, LDA was able to provide a substantial separation of the BJT into clus-<lb/>ters, corresponding to each transistor array. In addition, the LDA mapping into two dimensions <lb/>revealed a clear relationship between the considered measurements. Interestingly, a specific mapping <lb/>suggested by the PCA, involving the total harmonic distortion variation expressed in terms of the <lb/>average voltage gain, yielded an even better separation between the transistor array clusters. <lb/></front>

			<body>I. INTRODUCTION <lb/>Bipolar transistors are at the root of modern electron-<lb/>ics, but the variability of their parameters remains an <lb/>important phenomenon with important theoretical and <lb/>practical implications. Perhaps as a consequence of the <lb/>adoption of negative feedback in promoting circuit invari-<lb/>ance to transistor parameters, the variability of transistor <lb/>behavior has received relatively little attention in the lit-<lb/>erature more recently. There have been several works <lb/>addressing this problem at a larger integration and pro-<lb/>cessing scales (e.g. [1]), typically considering digital ap-<lb/>plications, but relatively fewer works have addressed dis-<lb/>crete device variance in analog electronics. Yet, a better <lb/>understanding of transistor variability at the individual <lb/>level remains an important issue because it can help, in <lb/>a number of ways, the design of better electronic circuits <lb/>(e.g. [2]). Ultimately, all large scale integration systems <lb/>are composed by a massive number of individual transis-<lb/>tors. For instance, the knowledge of the current gain of an <lb/>individual (or a lot of) BJT provides valuable subsidies <lb/>for deciding how much gain can be sacrificed to negative <lb/>feedback in exchange for circuit improvements. In addi-<lb/>tion, recent findings [3] suggest that the latter technique <lb/>may have limited effects in ensuring transistor parameter <lb/>invariance, motivating further related research, as well <lb/>as design procedures that take into account the specific <lb/>characteristic curves and parameters of each individual <lb/>device. <lb/>Interestingly, though important issues such as tran-<lb/>sistor parameter dependency have been addressed in <lb/>semiconductor physics, it usually does not go to the <lb/>level of probing industrialized devices, so there is sub-<lb/>stantial space for research aiming at bridging this gap. <lb/>Fortunately, many advances in instrumentation [4], sig-<lb/>nal analysis techniques [5, 6], powerful multivariate sta-<lb/>tistical [7, 8] and pattern recognition [9, 10] methods <lb/>have paved the way to devising experimental approaches <lb/>that can contribute to our understanding of industri-<lb/>alized transistor variability. In a recent study [3], we <lb/>showed that discrete BJTs variance is relatively con-<lb/>strained within each transistor type, but much larger <lb/>among different types of transistors. These differenti-<lb/>ating variabilities are such that well-defined clusters of <lb/>transistors could be identified, each of such clusters cor-<lb/>responding to respective transistor types. However, the <lb/>intra-cluster variance resulted markedly distinct for dif-<lb/>ferent types, resulting in clusters of different sizes and <lb/>shapes. One of the important consequence of such find-<lb/>ings, at least for the considered devices and configura-<lb/>tions, is that transistor variability is not as large as to <lb/>prevent statistical methods to be applied to character-<lb/>ize specific types. It was also shown that the variabil-<lb/>ity of BJTs is mostly a two-dimensional phenomenon, <lb/>in the sense that two linear combinations of traditional <lb/>transistor characteristics was found to be enough to ac-<lb/>count for 88% of the variability of the considered BJTs. <lb/>Despite such interesting findings, an important ques-<lb/>tion remained unanswered mainly concerning the possi-<lb/>ble causes of BJT variability. More specifically, it would <lb/>be interesting to investigate to what an extent such a <lb/>variance depends on transistors sharing or not the same <lb/>substrate. After all, devices sharing the same substrate <lb/>have been exposed to almost identical fabrication condi-<lb/>tions. <lb/>Here, we resort to pattern recognition concepts and <lb/>methods, including principal component analysis (PCA) <lb/>and linear discriminant analysis (LDA), to investigate <lb/>transistor arrays, namely integrated circuits containing <lb/>several BJTs in a common substrate, therefore providing <lb/>an interesting laboratory to study transistor variability. <lb/>Such types of ICs were produced during the 80&apos;s and 90&apos;s <lb/>for several applications, such as buffering, driving, power <lb/>control, audio, among other possibilities. One of the ad-<lb/>vantages of such arrays, as indicated in the respective <lb/>datasheets, would be more controlled device characteris-<lb/>tics as a consequence of the common substrate and fabri-<lb/>cation conditions shared by the devices. However, to our <lb/>knowledge, few (or no) systematic experimental data is <lb/>available in the literature regarding the characteristics of <lb/></body>

			<front>arXiv:1708.00469v1 [physics.ins-det] 1 Aug 2017 <lb/></front>

			<page>2 <lb/></page>

			<body>transistor arrays. <lb/>So, transistor arrays constitute an interesting resource <lb/>to complement our previous investigations of transistor <lb/>variability. More specifically, here we experimentally ob-<lb/>tain characteristic curves for 6 devices in 50 transistor <lb/>arrays, totaling 300 BJTs. Voltage and current gains, <lb/>as well as Total Harmonic Distortion (THD) measure-<lb/>ments were obtained respectively to a modified common <lb/>emitter class A configuration. Several features of each <lb/>transistor were then numerically estimated, and several <lb/>modern pattern recognition concepts and methods -in-<lb/>cluding PCA and LDA -were used to investigate clus-<lb/>tering and variability of individual transistors. Several <lb/>interesting results are reported. First, we have that, as <lb/>expected, the parameter variability among transistors in <lb/>a same array is much smaller (by an approximate factor of <lb/>20 with respect to current gain) compared to the overall <lb/>variability among transistors from all arrays. The overall <lb/>distribution of parameters was analyzed using PCA and <lb/>subsequent density estimation, and found to be possibly <lb/>distributed between two main peaks, suggesting the exis-<lb/>tence of two prototypes, at least for the considered BJT <lb/>samples and conditions. The variation among the arrays <lb/>was found not to be negligible, indicating that more crit-<lb/>ical analog projects involving more than one array may <lb/>justify acquiring and taking into account the experimen-<lb/>tal characteristics of the used devices. Further analysis <lb/>by using LDA revealed an improved seggregation between <lb/>the transistor arrays, as well as a clear relationship be-<lb/>tween the measurements. An even better separation be-<lb/>tween the transistor arrays was achieved by mapping the <lb/>THD in terms of a combination of measurements derived <lb/>from the PCA. The obtained results indicate that a good <lb/>deal of transistor parameter variation may stem from dif-<lb/>ferent substrates, probably as a consequence of residual <lb/>doping variations or other industrial processing events. <lb/>The current article is organized as follows. First, we <lb/>present how the experimental data was obtained and pro-<lb/>cessed in order to estimate the respective electrical fea-<lb/>tures. Then, we show the results obtained by using PCA <lb/>and LDA, leading to the conclusion that the BJTs in <lb/>each transistor array are indeed much more similar one <lb/>another than devices devices from distinct ICs. <lb/>II. MATERIALS AND METHODS <lb/>A customized stimuli generator and data acquisition <lb/>was designed and implemented for the purpose of the <lb/>reported experiments. It consists of a modular 16-bit <lb/>microprocessor system, with separated digital and ana-<lb/>log parts. All supplies are thoroughly decoupled. The <lb/>analog inputs are sample-and-holded and buffered into 4 <lb/>channels, while the analog outputs are buffered by volt-<lb/>age followers. A precision reference source is used for <lb/>DA conversion, taking place over 4 independent channels. <lb/>Acquired data is buffered to ensure real-time sampling, <lb/>and then transferred to SD cards. The characteristics <lb/>I c <lb/>I b <lb/>I e <lb/>R c <lb/>R b <lb/>V bb <lb/>V bb <lb/>V c <lb/>V cc <lb/>FIG. 1: The modified, fixed bias, class A common emitter <lb/>configuration adopted in the reported experiments. <lb/>curves are obtained by subsequent fixed V cc scans. A <lb/>modified version of the fixed bias, class A common emit-<lb/>ter configuration [11] (shown in Figure 1) is used for such <lb/>purposes, using R b = 11900Ω and R c = 671Ω. By modi-<lb/>fied we mean the use of the base resistor R b as a current <lb/>limiter to the input signal, used fixed instead of emitter <lb/>biasing. <lb/>In order to estimate the properties of the considered <lb/>transistors (please refer to Figure 1), we start by orga-<lb/>nizing their characteristic curves in terms of isolines with <lb/>fixed V bb . Next, we select a representative contiguous set <lb/>of isolines defined by a range in I c . This is done so that <lb/>the influence from the saturation region over the tran-<lb/>sistor parameters is reduced. Figure 2(a) illustrates a <lb/>typical set of isolines obtained for BJT transistors. The <lb/>figure also shows a possible choice for the region of in-<lb/>terest corresponding to isolines far away from the satu-<lb/>ration region as well as from the cutoff. The reported <lb/>experiments adopted I c,min = 2mA, I c,max = 4mA and˜V and˜ and˜V cc = 6V . <lb/>The total current gain β, defined as dI c /dI b , can be <lb/>estimated directly from the obtained isolines. The inset <lb/>of Figure 2 illustrates the procedure to obtain β. For a <lb/>chosen V cc far from the saturation region, and for given <lb/>reference V bb isoline, we estimate β(V bb ) as <lb/>β(V bb ) ≈ <lb/>∆I c <lb/>∆I b <lb/>(1) <lb/>where ∆I c and ∆I b corresponds respectively to the <lb/>changes of I c and I b between two isolines: one sequen-<lb/>tially before and another after the reference isoline. Such <lb/>a procedure yields a distribution of β along V bb from <lb/>which we can obtain statistics such as the average, µ β , <lb/>and standard deviation, σ β . <lb/></body>

			<page>3 <lb/></page>

			<body>V cc <lb/>V c <lb/>(a) <lb/>(b) <lb/>V bb <lb/>0 0 <lb/>0 0 <lb/>I c <lb/>V c <lb/>V bb <lb/>V cc <lb/>R e g io n o f in t e r e s t <lb/>ΔI c <lb/>V bb β(V bb ) ≈ ΔI b <lb/>ΔI c <lb/>ΔI b <lb/>V c ≈ -A V (V cc ) V bb +V c (0) <lb/>~ <lb/>~ <lb/>I c,max <lb/>I c,min <lb/>V cc <lb/>V cc,min <lb/>V cc,max <lb/>FIG. 2: A typical set of isolines and definition of the region where our measurements are taken. The inset illustrates the <lb/>estimation of the current gain β. <lb/>The voltage gain A is the ratio between the input volt-<lb/>age and the resulting output voltage, i.e., A = dV c /dV bb . <lb/>Observe that such an adopted voltage gain differs from <lb/>the more commonly used A v derived from emitter biased <lb/>configuration, consider the base voltage directly instead <lb/>of the voltage at the incoming lead of R b in the adopted <lb/>configuration shown in Figure 1. Such a property can <lb/>be estimated by means of the transfer functions V c (V b ). <lb/>Such transfer functions can be retrieved from the char-<lb/>acteristic curves by taking the values of V b along a load <lb/>line, which in turn are defined by V c c and R c . More <lb/>specifically, A(V cc ) can be estimated as the negative of <lb/>the slope of each transfer curve corresponding to values <lb/>of V cc . Figure 2(b) illustrates typical transfer functions <lb/>obtained for BJTs. Minimum least squares approxima-<lb/>tion can be used to fit the transfer curves to straight lines <lb/>and recover the slope. Similarly to β, we also considered <lb/>a distribution of the values for the voltage gain, however <lb/>in this case, by varying V cc . Therefore, we can define the <lb/>average, µ A , and standard deviation, σ A , of the voltage <lb/>gain. <lb/>Another important characteristic usually expected <lb/>from transistor and respective circuits is linearity. This <lb/>property can be quantified by the so-called total har-<lb/>monic distortion (THD) [12]. This property is calculated <lb/>as follows. A pure sinusoidal function with frequency f <lb/>is applied to the system. Then, the amplitudes of the <lb/>fundamental (V f ) as well as of the harmonics generated <lb/>on the output (V 2f , V 3f , etc) are measured. The THD <lb/>can then be calculated as: <lb/>T HD(f ) = <lb/>V 2 <lb/>2f + V 2 <lb/>3f + V 2 <lb/>4f + · · · <lb/>V f <lb/>(2) <lb/>If the system contains only resistive components, the <lb/>THD does not depend on the input frequency. For cal-<lb/>culating the THD, we consider the range of load lineas <lb/>as shown in Figure 2. From such a distribution, we es-<lb/>timate the average, µ THD , and standard deviation, σ THD , <lb/>of THD. <lb/>Throughout the discussion, we also consider the aver-<lb/>age of the measurements for a given array. Such averages <lb/>are indicated by a bar above the respective measurement. <lb/>For instance, regarding the average, µ β , and standard de-<lb/>viation, σ β , of individual transistors, the overall averages <lb/>of these properties for all transistors in a given array are <lb/>respectively represented as ¯ <lb/>µ β and ¯ <lb/>σ β . <lb/>Since we consider many properties to characterize the <lb/>devices (i.e. the mean and standard deviation of β, A and <lb/>THD), it is useful to reduce the complexity of the data <lb/>in order to aid the interpretation of the results. Such <lb/>a task can be accomplished by using Principal Compo-<lb/>nent Analysis (PCA) [7]. Given a dataset containing m <lb/>features, PCA can be used to define a new, smaller, set <lb/>of features PCA 1 , PCA 2 , . . . , PCA k providing optimal <lb/>preservation of the data variance. The first component <lb/>(PCA 1 ) contains the largest variance of the data, followed <lb/>by PCA 2 and so on. The amount of variance retained by <lb/>each new feature can be calculated from the normalized i-<lb/>th eigenvalue of the covariance matrix obtained from the <lb/>data. This quantity, here represented as E i for PCA i , is <lb/>defined in the range [0%, 100%]. <lb/>While PCA implements a projection so as to opti-<lb/>mize the data variability along the first axes, there are <lb/>other projection schemes that optimize other properties. <lb/>Linear Discriminant Analysis [13] (LDA) is one of such <lb/>schemes, which optimizes the linear separation between <lb/>groups being, therefore (and unlike PCA), a supervised <lb/>method. <lb/></body>

			<page>4 <lb/></page>

			<body>III. RESULTS AND DISCUSSION <lb/>In this section, we present several analysis of the ex-<lb/>perimentally obtained characteristics of the arrays and <lb/>respective BJTs. We follow a progression from a simpler <lb/>measurement-by-measurement characterization, to LDA, <lb/>passing by PCA approaches. <lb/>Measurement-by-Measurement Analysis <lb/>Figure 3 shows the averages and standard deviations of <lb/>the several considered measurements within each array. <lb/>The x-axes are organized in monotonically decreasing or-<lb/>der. <lb/>Regarding the average current gain (µ β ) values, shown <lb/>in Figure 3(a), we have that the group average range from <lb/>50 to 140, which are typical of BJTs. Small variations of <lb/>such averages are observed, except for a few cases. The <lb/>group average of σ β , shown in Figure 3(b), range from 3 <lb/>to 8, which is very small considering the respective av-<lb/>erage values, suggesting that BJTs from a same chip are <lb/>remarkably coherent regarding β. The averages of the <lb/>voltage gain properties, µ A and σ A , in common-emitter <lb/>configuration are depicted in Figures 3(c) and 3(d). The <lb/>former varies from -0.40 to -0.15. Figures 3(e) and 3(f) <lb/>show the group average of µ THD and σ THD . The averages <lb/>range from 0.007 to 0.016, while the standard deviations <lb/>go from 0.0005 to 0.0015. All in all, these results sug-<lb/>gest a remarkably small parameter variation within each <lb/>array. <lb/>Figure 4 shows the Pearson correlation coefficients be-<lb/>tween the several adopted measurements. It is clear from <lb/>this figure that most measurements are cross-correlated, <lb/>except mainly for the standard deviation of THD and <lb/>voltage gain, which are much more independent in this <lb/>respect. The most intense correlation results between the <lb/>two gains, µ β and µ A . Observe that the voltage gain is <lb/>often negatively correlated with the other measurements. <lb/>PCA and Density <lb/>In addition to understanding the variability, in abso-<lb/>lute manner, of the several measurements, it is also inter-<lb/>esting to infer what is the effective dimensionality of the <lb/>overall variability of the measurements after completely <lb/>eliminating the correlation between them. This can be <lb/>readily achieved by using PCA. Figure 5 shows the PCA <lb/>projection of the 300 BJT samples considered in our ex-<lb/>periments. <lb/>Several interesting findings can be derived from such <lb/>a result. First, the total variation explanation for the <lb/>two first axes, respectively equal to 64% and 15%, indi-<lb/>cate that the greatest part of the variation of the transis-<lb/>tor parameters can be accounted for by nearly just two <lb/>degrees of freedom, corresponding to respective random <lb/>variables defined by linear combinations of the adopted <lb/>measurements. This result is in agreement with previous <lb/>experiments [3] suggesting that BJT variability has a low <lb/>dimensionality. <lb/>Another important result concerns the fact the BJTs <lb/>belonging to the same array tend to appear near one an-<lb/>other, defining respective groups in the PCA space. As <lb/>shown in the projections respective to each of the PCA <lb/>axes, the separation between arrays is much more definite <lb/>along the first axis than for the second. These projections <lb/>were obtained by normally individually fitting each group <lb/>(corresponding to each transistor array) and then map-<lb/>ping into the first and second PCA axes. The dispersion <lb/>of each group, as indicated in the first axis projection, <lb/>tends to increase along that axis. <lb/>It is also clear that the parameter variance within each <lb/>IC is substantially smaller than the variance considering <lb/>all devices. Henceforth, we quantify the variance of a <lb/>group of individuals by taking the trace of the respective <lb/>covariance matrix, giving rise to the total variation mea-<lb/>surement. A measurement of how effectively the param-<lb/>eter variation can be minimized by adopting transistors <lb/>from a same IC can therefore be expressed in terms of the <lb/>ratio between the total variation for all devices divided <lb/>by the total variation averaged among the IC clusters. <lb/>This value was obtained as being nearly 5 for the first <lb/>PCA component. <lb/>It is also clear from Figure 5 that the overall distri-<lb/>bution of BJTs is skewed, with a stronger peak at the <lb/>left-hand side and a secondary, less compact, peak to the <lb/>right. The first peak is characterized by PCA1 ≈ −1.8, <lb/>and the second by PCA1 ≈ 2.1. <lb/>The weights of each considered measurement on each <lb/>axis are given in Table I. The first axis is strongly re-<lb/>lated to the average THD, voltage gain, and current gain, <lb/>as well as the standard deviation of current gain. Ac-<lb/>tually, we have from Figure 4 that these four variables <lb/>are strongly correlated. In the case of the second axis, <lb/>the major contribution is from the standard deviation of <lb/>THD. Such results suggest to use the average voltage gain <lb/>and standard deviation of THD in order to summarize <lb/>the first and second axes, respectively. The respectively <lb/>obtained scatter plot is shown in Figure 6. Remarkably, <lb/>the arrays resulted very compact and segregated along <lb/>the average voltage gain, with a gain factor of about 20 <lb/>in parameter variation along the gain axis (observe that <lb/>the current and voltage gain resulted highly correlated). <lb/>LDA <lb/>The LDA analysis of the 300 BJTs yielded the two-<lb/>dimensional projection shown in Figure 7. At the ex-<lb/>pense of a less effective minimization of variance along <lb/>the first two axes, LDA provided a new projection that <lb/>maximizes the separation of groups according to scatter <lb/>matrices dispersions. At the same time, the dispersion <lb/>within each group became much more uniform and con-<lb/>strained, to the point of defining a narrow relationship <lb/></body>

			<page>5 <lb/></page>

			<body>0 <lb/>10 <lb/>20 <lb/>30 <lb/>40 <lb/>50 <lb/>Order <lb/>60 <lb/>80 <lb/>100 <lb/>120 <lb/>140 <lb/>¯ <lb/>µ <lb/>β <lb/>(a) <lb/>0 <lb/>10 <lb/>20 <lb/>30 <lb/>40 <lb/>50 <lb/>Order <lb/>2 <lb/>3 <lb/>4 <lb/>5 <lb/>6 <lb/>7 <lb/>8 <lb/>¯ <lb/>σ <lb/>β <lb/>(b) <lb/>0 <lb/>10 <lb/>20 <lb/>30 <lb/>40 <lb/>50 <lb/>Order <lb/>−0.40 <lb/>−0.35 <lb/>−0.30 <lb/>−0.25 <lb/>−0.20 <lb/>−0.15 <lb/>¯ <lb/>µ <lb/>A <lb/>(c) <lb/>0 <lb/>10 <lb/>20 <lb/>30 <lb/>40 <lb/>50 <lb/>Order <lb/>0.00025 <lb/>0.00050 <lb/>0.00075 <lb/>0.00100 <lb/>0.00125 <lb/>0.00150 <lb/>0.00175 <lb/>0.00200 <lb/>¯ <lb/>σ <lb/>A <lb/>(d) <lb/>0 <lb/>10 <lb/>20 <lb/>30 <lb/>40 <lb/>50 <lb/>Order <lb/>0.006 <lb/>0.008 <lb/>0.010 <lb/>0.012 <lb/>0.014 <lb/>0.016 <lb/>0.018 <lb/>¯ <lb/>µ THD <lb/>(e) <lb/>0 <lb/>10 <lb/>20 <lb/>30 <lb/>40 <lb/>50 <lb/>Order <lb/>0.0005 <lb/>0.0010 <lb/>0.0015 <lb/>0.0020 <lb/>¯ <lb/>σ THD <lb/>(f ) <lb/>FIG. 3: The average (left-hand side) and standard deviation (right-hand side) of the current gain, voltage gain and THD <lb/>obtained for the considered 300 BJTs. <lb/>between the two axes, which can be summarized by the <lb/>dashed line. In order to try obtaining a functional rela-<lb/>tionship between the adopted measurements, we applied <lb/>generalized mean least square fitting [14, 15] while rotat-<lb/>ing the two-dimensional LDA projection and seeking for <lb/>the smallest fitting residual. For this, we used a second <lb/>degree polynomial as the template for the fitting. In or-<lb/>der to avoid the effect of the varying density of samples in <lb/>the LDA space, windowed weighting of one axis in terms <lb/>of the other was applied for each rotating configuration. <lb/>Figure 8 shows the obtained optimal fitting. <lb/>The obtained fitting coefficients for the first two LDA <lb/>components resulted in the following approximate rela-<lb/>tionship between LDA1 and LDA2: <lb/>LDA1 2 + LDA1(−2.723 − 1.961 × LDA2) <lb/>+ (40.93 + 0.9612 × LDA2) × LDA2 = 138.2, (3) <lb/>which can also be written approximately in terms of the <lb/></body>

			<page>6 <lb/></page>

			<body>µ THD <lb/>σ THD <lb/>µ A <lb/>σ A <lb/>µ β <lb/>σ β <lb/>µ <lb/>THD <lb/>σ <lb/>THD <lb/>µ <lb/>A <lb/>σ <lb/>A <lb/>µ <lb/>β <lb/>σ <lb/>β <lb/>1.00 <lb/>0.22 <lb/>0.76 <lb/>-0.36 <lb/>0.78 <lb/>0.74 <lb/>0.22 <lb/>1.00 <lb/>0.34 <lb/>-0.09 <lb/>0.34 <lb/>0.29 <lb/>0.76 <lb/>0.34 <lb/>1.00 <lb/>-0.41 <lb/>0.97 <lb/>0.87 <lb/>-0.36 <lb/>-0.09 <lb/>-0.41 <lb/>1.00 <lb/>-0.38 <lb/>-0.35 <lb/>0.78 <lb/>0.34 <lb/>0.97 <lb/>-0.38 <lb/>1.00 <lb/>0.89 <lb/>0.74 <lb/>0.29 <lb/>0.87 <lb/>-0.35 <lb/>0.89 <lb/>1.00 <lb/>−1 <lb/>0 <lb/>1 <lb/>Pearson correlation <lb/>FIG. 4: The Pearson correlation coefficients between the 6 <lb/>considered BJT measurements. Most measurements are cor-<lb/>related one another, except mainly for the standard deviation <lb/>of the voltage gain <lb/>TABLE I: The weights (or strengths) of each of the considered <lb/>measurements on the first and second axes of the PCA and <lb/>LDA. The larger the magnitude of such weights, the larger its <lb/>effect in defining the respective axis, which are linear combi-<lb/>nations of the original measurements. <lb/>Axis <lb/>µ β <lb/>σ β <lb/>µ A <lb/>σ A <lb/>µTHD <lb/>σTHD <lb/>PCA1 0.49 <lb/>0.47 <lb/>0.49 <lb/>-0.26 <lb/>0.44 <lb/>0.21 <lb/>PCA2 0.01 <lb/>-0.01 <lb/>0.00 <lb/>0.52 <lb/>-0.11 <lb/>0.85 <lb/>LDA1 -6.86 <lb/>0.19 <lb/>17.81 <lb/>0.22 <lb/>0.03 <lb/>0.00 <lb/>LDA2 -12.92 0.1 <lb/>11.77 <lb/>-0.13 <lb/>0.39 <lb/>-0.17 <lb/>considered transistor parameters as <lb/>11µ A + µ 2 <lb/>A − 0.112µ A µ THD − 13µ β <lb/>+ 1.85µ A µ β − 0.104µ THD µ β + 0.857µ 2 <lb/>β <lb/>+ 0.111µ A σ A + 0.103µ β σ A − 0.177σ THD <lb/>= 3.516 (4) <lb/>IV. CONCLUSIONS <lb/>Although at the core of modern electronics, the issue <lb/>of transistor variability has received relatively little at-<lb/>tention as a consequence of the effectiveness of negative <lb/>feedback in controlling such an effect. However, recent <lb/>studies [3] have suggested revisions of such a perspective <lb/>in the sense that BJTs of a given type can have relatively <lb/>consistent features (small variations), capable of defin-<lb/>ing clusters by transistor type. In other words, BJTs <lb/>from the type can cluster in characteristic, distinctive <lb/>groups. The current work has investigated BJT variabil-<lb/>ity further, now considering transistor arrays, where the <lb/>devices share the substrate and other fabrication effects. <lb/>As it could be expected, the variability of BJTs inside the <lb/>same IC was found to be much smaller (by a factor of 20 <lb/>in the case of current gain, for the considered devices and <lb/>configuration) than between BJTs from different arrays. <lb/>This confirms the improved control of transistor proper-<lb/>ties when built into the same IC. At the same time, larger <lb/>variations were observed among BJTs from different ar-<lb/>rays. <lb/>It should be emphasized that, though in principle ex-<lb/>pected, the reduced variability of industrially produced <lb/>BJTs inside a same chip has been rarely (if ever) system-<lb/>atically quantified in the literature. The obtained results <lb/>make it clear, at least for the considered array samples, <lb/>that a substantial gain in standardization of BJT param-<lb/>eters can be achieved by using transistor arrays. How-<lb/>ever, critical projects large enough to involve multiple ar-<lb/>rays may require the consideration of the individual char-<lb/>acteristics of the used devices, as a consequence of the <lb/>larger variation of parameters among BJTs from distinct <lb/>arrays. The obtained results corroborated the potential <lb/>of integrated analog design for increasing parameter uni-<lb/>formity. In addition, when the data was mapped in terms <lb/>of the scatterplot defined by the THD variation and the <lb/>voltage gain (as suggested by the strength of these mea-<lb/>surements respectively to the two PCA axes), an even <lb/>better separation was obtained between the transistor ar-<lb/>rays, showing most of the clusters clearly seggregated one <lb/>another along the latter axis, while similar distributions <lb/>were observe in the former axis. <lb/>Further analyses by using LDA showed an even better <lb/>separation between the clusters corresponding to respec-<lb/>tive transistor arrays. Interestingly, the LDA mapping <lb/>revealed a clearly defined relationship between the con-<lb/>sidered measurements, probably related to the Early ef-<lb/>fect [11, 16]. This result, as well as all the others in the <lb/>current work, are respective to the considered transistor <lb/>arrays samples and circuit configuration, so that further <lb/>investigations are required in order to validate and fur-<lb/>ther generalize them. <lb/>Perhaps as a consequence of well-established design <lb/>practices, some important issues in analog electronics <lb/>have been somewhat overlooked. It is, therefore, inter-<lb/>esting to revisit such issues in the light of state-of-the-art <lb/>pattern recognition and statistical analysis concepts and <lb/>methods. It would be particularly interesting, for in-<lb/>stance, to complement the currently reported study by <lb/>considering other IC families (e.g. FET, MOSFET) and <lb/>alternative circuit configurations, as well as to compare <lb/>parameter variability between NPN and PNP devices. <lb/></body>

			<div type="acknowledgement">Acknowledgements <lb/>L. da F. Costa thanks CNPq (Grant no. 307333/2013-<lb/>2) for support. F. N. Silva acknowledges FAPESP (Grant <lb/>No. 15/08003-4). C. H. Comin thanks FAPESP (Grant <lb/>No. 15/18942-8) for financial support. This work has <lb/></div>

			<page>7 <lb/></page>

			<body>0 <lb/>1 <lb/>2 <lb/>3 <lb/>Density <lb/>0 <lb/>1 <lb/>2 <lb/>Density <lb/>−4 <lb/>−2 <lb/>0 <lb/>2 <lb/>4 <lb/>PCA1 (0.64) <lb/>−4 <lb/>−2 <lb/>0 <lb/>2 <lb/>4 <lb/>PCA2 (0.15) <lb/>0.00 <lb/>0.02 <lb/>0.04 <lb/>0.06 <lb/>0.08 <lb/>0.10 <lb/>FIG. 5: PCA obtained from the experimental measurements of the 50 samples of transistor arrays, as well as the individual <lb/>clusters normally fitted and projected along both axes. BJTs from a same array are shown by the same color. The estimated <lb/>density of cases is shown as a cloud, from which two peaks can be observed: a more compact group to the left-hand side, and <lb/>a less compact to the right-hand side. <lb/>been supported also by FAPESP grant 11/50761-2. <lb/></body>

			<listBibl>[1] R. C. Jaeger and T. N. Blalock, Microelectronic circuit <lb/>design, vol. 97 (McGraw-Hill New York, 1997). <lb/>[2] W.-K. Chen, Active Network Analysis: Feedback Ampli-<lb/>fier Theory, vol. 15 (World Scientific, 2016). <lb/>[3] L. d. F. Costa, F. N. Silva, and C. H. Comin, Electrical <lb/>Engineering pp. 1-23 (2017). <lb/>[4] D. A. Bell, Electronic Instrumentation and measurements <lb/>(Prentice Hall, 1994). <lb/>[5] A. V. Oppenheim and R. W. Schafer, Discrete-time sig-<lb/>nal processing (Pearson Higher Education, 2010). <lb/>[6] J. G. Proakis and D. K. Manolakis, Digital Signal Pro-<lb/>cessing (Pearson, 2006). <lb/>[7] I. Joliffe and B. Morgan, Statistical methods in medical <lb/>research 1, 69 (1992). <lb/>[8] R. A. Johnson, D. W. Wichern, et al., Applied multivari-<lb/>ate statistical analysis, vol. 5 (Prentice hall Upper Saddle <lb/>River, NJ, 2002). <lb/>[9] C. M. Bishop, Pattern Recognition and Machine Learning <lb/>(Springer, 2006). <lb/>[10] I. H. Witten and E. Frank, Data Mining: Practical ma-<lb/>chine learning tools and techniques (Morgan Kaufmann, <lb/>2005). <lb/>[11] R. L. Boylestad, L. Nashelsky, and L. Li, Electronic de-<lb/>vices and circuit theory, vol. 11 (Prentice Hall Englewood <lb/>Cliffs, NJ, 2002). <lb/>[12] B. Cordell, Designing audio power amplifiers (McGraw-<lb/>Hill, 2011). <lb/>[13] R. O. Duda, P. E. Hart, and D. G. Stork, Pattern clas-<lb/>sification (John Wiley &amp; Sons, 2012). <lb/>[14] N. R. Draper, H. Smith, and E. Pownell, Applied regres-<lb/></listBibl>

			<page>8 <lb/></page>

			<body>0 <lb/>500 <lb/>1000 <lb/>Density <lb/>0 <lb/>2000 4000 6000 <lb/>Density <lb/>−0.40 <lb/>−0.35 <lb/>−0.30 <lb/>− 0.25 <lb/>−0.20 <lb/>−0.15 <lb/>µ A <lb/>0.0005 <lb/>0.0010 <lb/>0.0015 <lb/>0.0020 <lb/>0.0025 <lb/>0.0030 <lb/>σ <lb/>THD <lb/>FIG. 6: Scatterplot obtained by plotting the variation of the THD in terms of the average of the voltage gain, also showing <lb/>normally fitted individual clusters along both axes. Such a mapping, defined by two measurements suggested by the PCA, <lb/>yielded a remarkable separation between the transistor arrays, especially along the average voltage gain axis. The average <lb/>variation of such individual clusters was verified to be nearly 20 times smaller than the overall BJT variance considering all the <lb/>clusters. <lb/></body>
		
		<listBibl>sion analysis, vol. 3 (Wiley New York, 1966). <lb/>[15] Å. Björck, Numerical methods for least squares problems <lb/>(SIAM, 1996). <lb/>[16] J. M. Early, Proceedings of the IRE 40, 1401 (1952). <lb/></listBibl>

			<page>9 <lb/></page>

			<body>0.000 <lb/>0.001 <lb/>0.002 <lb/>0.003 <lb/>0.004 <lb/>0.005 <lb/>0.006 <lb/>−20 <lb/>−15 <lb/>−10 <lb/>−5 <lb/>0 <lb/>5 <lb/>10 <lb/>15 <lb/>LDA1 <lb/>−20 <lb/>−15 <lb/>−10 <lb/>−5 <lb/>0 <lb/>5 <lb/>10 <lb/>15 <lb/>LDA2 <lb/>0.0 <lb/>2.5 <lb/>5.0 <lb/>7.5 <lb/>10.0 <lb/>Density <lb/>4 <lb/>3 <lb/>2 <lb/>1 <lb/>0 <lb/>Density <lb/>FIG. 7: LDA of the 300 BJTs, as well as normally fitted individual clusters along each axis. A good separation of the groups <lb/>is obtained, and the mapping also revealed a clear functional relationship between the two respective axes. <lb/>−10 <lb/>−5 <lb/>0 <lb/>5 <lb/>10 <lb/>15 <lb/>20 <lb/>[R44.5•(LDA)]x <lb/>−20 <lb/>−15 <lb/>−10 <lb/>−5 <lb/>0 <lb/>5 <lb/>10 <lb/>[R44.5•(LDA)]y <lb/>avg. window <lb/>best fit <lb/>transistors <lb/>FIG. 8: Generalized (quadratic) least mean square fitting of <lb/>the LDA results, after rotation optimizing the fitting residue. </body>


	</text>
</tei>
